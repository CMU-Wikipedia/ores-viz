(this["webpackJsonpores-tutorial"]=this["webpackJsonpores-tutorial"]||[]).push([[0],{113:function(t,e,a){t.exports=a(126)},118:function(t,e,a){},119:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},120:function(t,e,a){},124:function(t){t.exports=JSON.parse("{}")},126:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),i=a(9),o=a.n(i),c=(a(118),a(56)),l=(a(119),a(120),a(3)),d=a(13),h=a(14),s=a(16),u=a(15),f=a(74),g=a(10),p=a(157),m=a(6),v=a(166),y=function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(d.a)(this,a),(r=e.call(this,t)).state={},r}return Object(h.a)(a,[{key:"render",value:function(){return n.a.createElement(b,{valueLabelDisplay:"auto","aria-label":"pretto slider",defaultValue:60,onChangeCommitted:this.props.onChangeCommitted})}}]),a}(r.Component),b=(Object(p.a)((function(t){return{root:{width:300+2*t.spacing(3)},margin:{height:t.spacing(3)}}})),Object(m.a)({root:{color:"#C57619",height:10,paddingTop:"50px",paddingBottom:"0px"},thumb:{height:18,width:18,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-9,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50%+12px)"},track:{height:4,borderRadius:4,color:"#909090"},rail:{height:4,borderRadius:4,color:"#C57619",opacity:"100%"}})(v.a)),w=a(49),x=function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(d.a)(this,a),(r=e.call(this,t)).chartPerformanceRef=n.a.createRef(),r.getBoxHeight=r.getBoxHeight.bind(Object(g.a)(r)),r.getWidthHeightRatio=r.getWidthHeightRatio.bind(Object(g.a)(r)),r.getMargin=r.getMargin.bind(Object(g.a)(r)),r.getWidth=r.getWidth.bind(Object(g.a)(r)),r.drawChart=r.drawChart.bind(Object(g.a)(r)),r.redrawChart=r.redrawChart.bind(Object(g.a)(r)),r.state={threshold:80,width:1e3,height:1e3},r}return Object(h.a)(a,[{key:"getWidthHeightRatio",value:function(){return 2}},{key:"getWidth",value:function(){return null==this.chartPerformanceRef.current?this.state.width:this.chartPerformanceRef.current.parentElement.offsetWidth}},{key:"getMargin",value:function(){return{top:20,right:5,bottom:20,left:30,inBetween:.2*this.state.width}}},{key:"componentDidMount",value:function(){var t,e=this,a=this.getWidth(),r=a*this.getWidthHeightRatio();this.setState({width:a,height:r},(function(){e.drawChart()})),window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout((function(){e.redrawChart()}),200)}))}},{key:"redrawChart",value:function(){var t=this.getWidth();this.setState({width:t,height:t*this.getWidthHeightRatio()}),l.k(".performanceChart svg").remove(),this.drawChart=this.drawChart.bind(this),this.drawChart()}},{key:"drawChart",value:function(){var t=this;if(null!=this.props.performance_data){var e=[this.props.performance_data.map((function(t){return{threshold:t.threshold,value:Math.round(100*t.damaging_accuracy)}})),this.props.performance_data.map((function(t){return{threshold:t.threshold,value:Math.round(100*t.damaging_fpr)}})),this.props.performance_data.map((function(t){return{threshold:t.threshold,value:Math.round(100*t.damaging_fnr)}}))],a=this.getMargin(),r=this.state.width-a.left-a.right,n=this.state.height-a.top-a.bottom,i=(n-2*a.inBetween)/3,o=l.k(".performanceChart").append("svg").attr("width",r+a.left+a.right).attr("height",n+a.top+a.bottom),c=function(t,e){return"stroke"==t?1==e?l.e("#159256"):0==e?l.e("#878787"):l.e("#921515"):1==e?l.e("#F0F7F4"):0==e?l.e("#E8E8E8"):l.e("#F7F0F0")},d=function(t,e,a){return c("stroke",0==t?e<a?1:e>a?-1:0:e<a?-1:e>a?1:0)};e.forEach((function(h,s){var u=h[50].value,f=h[t.props.threshold].value,g=t.props.threshold,p=l.i().domain([0,l.h(h,(function(t){return t.threshold}))]).nice().range([a.left,r-a.right]),m=function(t){switch(t){case 0:return l.i().domain([0,l.h(e[0],(function(t){return t.value}))]).nice().range([i+a.top,a.top]);case 1:return l.i().domain([0,l.h(e[1],(function(t){return t.value}))]).nice().range([2*i+a.inBetween+a.top,i+a.inBetween+a.top]);default:return l.i().domain([0,l.h(e[2],(function(t){return t.value}))]).nice().range([n+a.top,2*i+2*a.inBetween+a.top])}}(s),v=function(t,e){switch(e){case 0:return function(e){e.attr("transform","translate(0,".concat(i+a.top,")")).attr("class","axisGreyY").call(l.b(t).tickSize(0))};case 1:return function(e){e.attr("transform","translate(0,".concat(2*i+a.inBetween+a.top,")")).attr("class","axisGreyY").call(l.b(t).tickSize(0))};default:return function(e){e.attr("transform","translate(0,".concat(n+a.top,")")).attr("class","axisGreyY").call(l.b(t).tickSize(0))}}}(p,s),y=l.g().defined((function(t){return!isNaN(t.value)})).x((function(t){return p(t.threshold)})).y((function(t){return m(t.value)})),b=l.a().defined((function(t){return e=.5,a=.01*g,(r=t.threshold)>=e&&r<=a||r<=e&&r>=a;var e,a,r})).x((function(t){return p(t.threshold)})).y0(m(0)).y1((function(t){return m(t.value)}));o.append("path").datum(h.filter(b.defined())).attr("fill",function(t,e,a){return c("area",0==t?e<a?1:e>a?-1:0:e<a?-1:e>a?1:0)}(s,u,f)).attr("d",b),o.append("path").datum(h).attr("fill","none").attr("stroke","grey").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",y),o.append("line").attr("x1",p(.01*g)).attr("y1",m(f)).attr("x2",p(.01*g)).attr("y2",a.top+s*a.inBetween+(s+1)*i).attr("stroke-width",2).attr("stroke",d(s,u,f)).style("stroke-dasharray","5,5"),o.append("text").attr("x",p(.01*g)).attr("y",m(f+8)).attr("text-anchor","middle").text("".concat(f,"%")).attr("font-family","sans-serif").attr("font-size","16px").attr("fill",d(s,u,f)),o.append("g").call(v),o.append("g").call((function(t){return t.attr("transform","translate(".concat(a.left,",0)")).attr("class","axisGrey").call(l.c(m).ticks(2))}))}))}}},{key:"getBoxHeight",value:function(){var t=this.getMargin();return(this.state.height-t.top-t.bottom-2*t.inBetween)/3}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"50%",display:"inline-block",verticalAlign:"top"}},n.a.createElement("div",{style:{marginTop:"20px"},className:"performanceChart",ref:this.chartPerformanceRef})),n.a.createElement("div",{style:{width:"40%",display:"inline-block",verticalAlign:"top"}},n.a.createElement("div",{style:{height:"".concat(this.getBoxHeight(),"px"),padding:"0% 5%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"".concat(this.getMargin().top+20,"px"),marginBottom:"".concat(this.getMargin().inBetween,"px")}},n.a.createElement("div",null,n.a.createElement(w.a,{variant:"h6",textAlign:"center"},"Accuracy"," "),n.a.createElement(w.a,{variant:"body2"},"Correctly predicted edits out of all edits"," "))),n.a.createElement("div",{style:{height:"".concat(this.getBoxHeight(),"px"),padding:"0% 5%",display:"flex",flexDirection:"column",justifyContent:"center",marginBottom:"".concat(this.getMargin().inBetween,"px")}},n.a.createElement("div",null,n.a.createElement(w.a,{variant:"h6",textAlign:"center"},"False Positive Rate"),n.a.createElement(w.a,{variant:"body2"},"Percentage of good edits that are falsely identified as damaing"," "))),n.a.createElement("div",{style:{height:"".concat(this.getBoxHeight(),"px"),padding:"0% 5%",display:"flex",flexDirection:"column",justifyContent:"center"}},n.a.createElement("div",null,n.a.createElement(w.a,{variant:"h6",textAlign:"center"},"False Negative Rate"),n.a.createElement(w.a,{variant:"body2"},"Percentage of damaing edits that won\u2019t be identified "," ")))))}}]),a}(r.Component),E=function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(d.a)(this,a),(r=e.call(this,t)).onSliderChange=function(t,e){r.setState({threshold:e}),l.k(".rowChart svg").remove(),r.drawChart=r.drawChart.bind(Object(g.a)(r)),r.drawChart()},r.chartRef=n.a.createRef(),r.getWidth=r.getWidth.bind(Object(g.a)(r)),r.drawChart=r.drawChart.bind(Object(g.a)(r)),r.redrawChart=r.redrawChart.bind(Object(g.a)(r)),r.state={threshold:60,width:1e3,height:1e3,widthHeightRatio:.8,graph1Scale:1,dotWidth:0,sliderRange:[20,1e3]},r}return Object(h.a)(a,[{key:"getWidth",value:function(){return null==this.chartRef.current?this.state.width:this.chartRef.current.parentElement.offsetWidth}},{key:"componentDidMount",value:function(){var t,e=this,a=this.getWidth(),r=.8*a,n=a-30;this.setState({width:a,height:r,sliderRange:[10,n]},(function(){e.drawChart()})),window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout((function(){e.redrawChart()}),200)}))}},{key:"redrawChart",value:function(){var t=this.getWidth(),e=t-30;this.setState({width:t,height:.8*t,sliderRange:[10,e]}),l.k(".rowChart svg").remove(),this.drawChart=this.drawChart.bind(this),this.drawChart()}},{key:"drawChart",value:function(){var t=0,e=30,a=30,r=10,n=this.state.width-r-e,i=this.state.height-t-a,o=l.k(".rowChart").append("svg").attr("width",n+r+e).attr("height",i+t+a),c=this.state.threshold/100,d=1*n/50,h=.5*d;if(null!=this.props.data){var s=function(t,e,a){var r,n=e.map((function(e){return{xvalue:parseFloat(e.confidence_damage).toFixed(2),x:.02*Math.ceil(50*parseFloat(e.confidence_damage).toFixed(2)),correct:parseFloat(e.confidence_damage).toFixed(2)>=t==e.damaging_label,damaging_predict:parseFloat(e.confidence_damage).toFixed(2)>=t,damaging_label:e.damaging_label}})).sort((function(t,e){if(t.x==e.x){var a=t.correct?1:0;return(e.correct?1:0)-a}return e.x-t.x})),i=100,o=1,c=Object(f.a)(n);try{for(c.s();!(r=c.n()).done;){var d=r.value;Math.abs(i-d.x)<1e-4?(o+=1,d.y=a*o):(i=d.x,o=1,d.y=a),d.correct?d.category="circle":d.category="cross",d.damaging_predict?d.color=l.e("#C57619"):d.color=l.e("#909090")}}catch(h){c.e(h)}finally{c.f()}return n}(c,this.props.data,d),u=l.i().domain([0,1]).nice().range([r,n+r]),g=l.j(s.map((function(t){return t.category})),l.m.map((function(t){return l.l().size(d*d*.4).type(t)()})));o.append("line").attr("x1",n+r-100*h*(1-c)).attr("y1",t).attr("x2",n+r-100*h*(1-c)).attr("y2",i-30).attr("stroke-width",2).attr("stroke","black").style("stroke-dasharray","5,5"),o.append("text").attr("x",n+r-100*h*(1-c)).attr("y",i-15).attr("text-anchor","middle").text(c).attr("font-family","sans-serif").attr("font-size","15px"),o.append("g").selectAll("path").data(s).join("path").attr("transform",(function(e){return"translate(".concat(u(e.x),",").concat(e.y+t,"), rotate(45)")})).attr("fill",(function(t){return t.color})).attr("d",(function(t){return g(t.category)}))}}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"52%",display:"inline-block",verticalAlign:"top"}},n.a.createElement("div",{style:{borderBottom:"1px solid lightgrey",height:"50px",paddingLeft:"10px"}},n.a.createElement(w.a,{variant:"subtitle2"},"MODEL OPTIONS")),n.a.createElement("div",{style:{marginLeft:"".concat(this.state.sliderRange[0],"px"),width:"".concat(this.state.sliderRange[1]-this.state.sliderRange[0],"px")}},n.a.createElement(y,{defaultValue:60,onChangeCommitted:this.onSliderChange})),n.a.createElement("div",{className:"rowChart",ref:this.chartRef})),n.a.createElement("div",{style:{width:"43%",paddingLeft:"2%",borderLeft:"1px solid lightgrey",display:"inline-block",verticalAlign:"top"}},n.a.createElement(x,{performance_data:this.props.performance_data,threshold:this.state.threshold,key:this.state.threshold})))}}]),a}(r.Component),C=a(67),k=a.n(C),O=a(68),j=a.n(O),_=function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(d.a)(this,a),(r=e.call(this,t)).state={data:null,change:0},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this;l.f(k.a,(function(t){return{confidence_faith:t.confidence_faith,faith_label:"True"==t.goodfaith,confidence_damage:+t.confidence_damage,damaging_label:"True"==t.damaging}})).then((function(e){t.setState({data:e.slice(0,2e3)}),t.setState({change:2}),l.f(j.a,(function(t){return{threshold:+t.threshold,damaging_accuracy:+t.damaging_accuracy,damaging_fpr:+t.damaging_fpr,damaging_fnr:+t.damaging_fnr,faith_accuracy:+t.faith_accuracy,faith_fpr:+t.faith_fpr,faith_fnr:+t.faith_fnr}})).then((function(e){console.log("data"),console.log(t.state.data),t.setState({performance_data:e}),t.setState({change:3})}))}))}},{key:"shouldComponentUpdate",value:function(t,e){return!0}},{key:"render",value:function(){return n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(E,{data:this.state.data,performance_data:this.state.performance_data,key:this.state.change}))}}]),a}(r.Component),S=a(161),R=a(164),W=a(162),T=a(165),B=a(163),A=a(73),D=a(160),F=a(47),M=a(69),z=a.n(M),N=(a(124),function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(d.a)(this,a),(r=e.call(this,t)).onSliderChange=function(t,e){r.setState({threshold:e}),l.k(".rowChart svg").remove()},r.compareChartRef=n.a.createRef(),r.getWidth=r.getWidth.bind(Object(g.a)(r)),r.drawChart=r.drawChart.bind(Object(g.a)(r)),r.redrawChart=r.redrawChart.bind(Object(g.a)(r)),r.state={threshold:50,width:1e3,height:1e3,widthHeightRatio:.8,graph1Scale:1,dotWidth:0,sliderRange:[20,1e3]},r}return Object(h.a)(a,[{key:"getWidth",value:function(){return null==this.compareChartRef.current?this.state.width:this.compareChartRef.current.parentElement.offsetWidth}},{key:"componentDidMount",value:function(){var t,e=this,a=this.getWidth(),r=.8*a,n=a-30;this.setState({width:a,height:r,sliderRange:[10,n]},(function(){e.drawChart()})),window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout((function(){}),200)}))}},{key:"redrawChart",value:function(){var t=this.getWidth(),e=t-30;this.setState({width:t,height:.8*t,sliderRange:[10,e]}),l.k(".rowChart svg").remove(),this.drawChart=this.drawChart.bind(this),this.drawChart()}},{key:"drawChart",value:function(){var t=0,e=30,a=30,r=10,n=this.state.width-r-e,i=this.state.height-t-a;l.k(".compareChart").append("svg").attr("width",n+r+e).attr("height",i+t+a);null!=this.props.anonData&&this.props.loggedData}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{width:"52%",display:"inline-block",verticalAlign:"top"}},n.a.createElement("div",{style:{borderBottom:"1px solid lightgrey",height:"50px",paddingLeft:"10px"}},n.a.createElement(w.a,{variant:"subtitle2"},"MODEL OPTIONS")),n.a.createElement("div",{className:"compareChart",ref:this.compareChartRef})),n.a.createElement("div",{style:{width:"43%",paddingLeft:"2%",borderLeft:"1px solid lightgrey",display:"inline-block",verticalAlign:"top"}}))}}]),a}(r.Component)),L=function(t){Object(s.a)(a,t);var e=Object(u.a)(a);function a(t){var r;return Object(d.a)(this,a),(r=e.call(this,t)).state={anonData:null,loggedData:null,change:0},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this;l.f(z.a,(function(t){return{anonymous:"True"==t.anonymous,confidence_faith:t.confidence_faith,faith_label:"True"==t.goodfaith,confidence_damage:+t.damagescore,damaging_label:"True"==t.damaging}})).then((function(e){var a=e.filter((function(t){return t.anonymous})).slice(0,100),r=e.filter((function(t){return!t.anonymous})).slice(0,100);t.setState({anonData:a,loggedData:r}),t.setState({change:2})}))}},{key:"render",value:function(){return n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(N,{anonData:this.state.anonData,loggedData:this.state.loggedData,key:this.state.change}))}}]),a}(r.Component);function H(){var t=Object(c.a)(["\n  display: block;\n"]);return H=function(){return t},t}function P(){var t=Object(c.a)(["\n  padding-left: 10px;\n  padding-top: 5px;\n  padding-bottom: 30px;\n  border-bottom: 1px solid lightgrey;\n"]);return P=function(){return t},t}var G=F.a.div(P()),I=F.a.div(H()),J=Object(A.a)({typography:{fontFamily:"Noto Sans",subtitle1:{fontFamily:"Noto Serif",fontSize:"24px"},subtitle2:{fontSize:"12px",color:"#B0B0B0",fontWeight:"bold",textTransform:"capitalize",textAlign:"left"},h6:{fontWeight:"bold",fontSize:"16px",textAlign:"left"},body1:{fontSize:"14px"},body2:{textAlign:"left",fontSize:"14px"},button:{fontStyle:"italic"}}}),Y=Object(p.a)((function(t){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0,textAlign:"center"},drawerPaper:{width:240,color:"red"},paper:{textAlign:"left",padding:"20px 20px"},list:{fontSize:"19px",color:"black",textAlign:"center"},toolbar:{padding:t.spacing(2)},content:{width:"calc(100% - ".concat(240,"px)"),flexGrow:1,backgroundColor:t.palette.background.default,padding:t.spacing(2)}}}));var V=function(){var t=Y();return n.a.createElement(D.a,{theme:J},n.a.createElement("div",{className:"App"},n.a.createElement("body",null,n.a.createElement("div",{className:t.root},n.a.createElement(R.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},anchor:"left"},n.a.createElement(S.a,{className:t.paper,elevation:"0"},n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(w.a,{variant:"subtitle1"},"WIKIPEDIA"),n.a.createElement(w.a,{style:{textAlign:"center"}},"ORES Explorer"))),n.a.createElement(W.a,{style:{marginTop:"100px"}},["About ORES","Threshold Explorer","Threshold Calculator","Group Comparison"].map((function(e,a){return n.a.createElement(T.a,{className:t.list,button:!0,key:e},n.a.createElement(B.a,{primary:e}))})))),n.a.createElement("main",{className:t.content},n.a.createElement(I,null,n.a.createElement(G,null,n.a.createElement(w.a,{variant:"subtitle1",style:{textAlign:"left"}},"Threshold Explorer"),n.a.createElement("div",{style:{width:"50%",marginTop:"10px"}},n.a.createElement(w.a,{variant:"body2",style:{color:"grey"}},"Threshold Explorer helps you visualize model performance under specific thresholds with an example dataset. To start, select a model below, then pick a threshold."," "))),n.a.createElement(_,null)),n.a.createElement(I,null,n.a.createElement(G,null,n.a.createElement(w.a,{variant:"subtitle1",style:{textAlign:"left"}},"Disparity"),n.a.createElement("div",{style:{width:"50%",marginTop:"10px"}},n.a.createElement(w.a,{variant:"body2",style:{color:"grey"}},"Threshold Explorer helps you visualize model performance under specific thresholds with an example dataset. To start, select a model below, then pick a threshold."," "))),n.a.createElement(L,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},67:function(t,e,a){t.exports=a.p+"static/media/data_not-balanced.2c5d8911.csv"},68:function(t,e,a){t.exports=a.p+"static/media/performance.760a321c.csv"},69:function(t,e,a){t.exports=a.p+"static/media/data_group.88e6b893.csv"}},[[113,1,2]]]);
//# sourceMappingURL=main.7d4d547e.chunk.js.map