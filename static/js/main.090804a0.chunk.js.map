{"version":3,"sources":["data/data_not-balanced.csv","data/data_balanced_1.csv","logo.svg","partials/slider.jsx","components/threshold_explorer/threshold_performance.jsx","partials/shape.jsx","partials/typeToggle.jsx","components/threshold_explorer/threshold_explorer.jsx","components/threshold_explorer/threshold_explorer_section.js","components/group_compare/compare_visualizer.jsx","components/group_compare/section.jsx","components/threshold_recommender/recommender.jsx","components/content.jsx","partials/drawerList.jsx","App.js","serviceWorker.js","index.js","data/performance.csv"],"names":["module","exports","ThresholdeSlider","props","getText","value","state","bind","style","position","marginTop","width","top","display","textAlign","Typography","fontWeight","this","color","OrangeSlider","valueLabelDisplay","valueLabelFormat","aria-label","defaultValue","onChangeCommitted","BlackSlider","Component","makeStyles","theme","root","spacing","margin","height","withStyles","paddingTop","paddingBottom","thumb","backgroundColor","border","marginLeft","boxShadow","active","valueLabel","left","track","borderRadius","rail","opacity","Slider","ThresholdPerformance","chartPerformanceRef","React","createRef","getBoxHeight","getWidthHeightRatio","getMargin","getWidth","drawChart","redrawChart","threshold","current","parentElement","offsetWidth","right","bottom","inBetween","resizedFn","setState","window","addEventListener","clearTimeout","setTimeout","d3","remove","performance_data","currentDamaging","damaging","dataCollection","map","d","Math","round","damaging_accuracy","faith_accuracy","damaging_fpr","faith_fpr","damaging_fnr","faith_fnr","eachHeight","svg","append","attr","getPerformanceColor","type","perform","getStrokeColor","preValue","currentValue","forEach","data","index","currentThreshold","x","domain","nice","range","y","getY","xAxis","g","call","tickSize","getXAxis","line","defined","isNaN","area","x1","x2","number","y0","y1","datum","filter","getAreaColor","text","ticks","message","opposite","verticalAlign","className","ref","padding","flexDirection","justifyContent","marginBottom","variant","Circle","size","cx","cy","r","fill","Cross","y2","stroke","strokeWidth","TypeToggle","Grid","item","xs","gridSize","component","Box","ToggleButtonGroup","exclusive","onChange","ToggleButton","ThresholdExplorer","onSliderChange","event","onTypeChange","chartRef","widthHeightRatio","graph1Scale","dotWidth","sliderRange","sliderRight","diameter","dd","circles","xvalue","parseFloat","confidence_damage","confidence_faith","toFixed","ceil","correct","damaging_label","faith_label","predict","label","sort","a","b","ca","prev","cnt","abs","category","dodge","customCross","draw","context","s","sqrt","w","moveTo","lineTo","closePath","thresholdText","selectAll","join","Fragment","container","key","id","Chart","change","data_balanced","goodfaith","then","slice","nextProps","nextState","performanceData","getPerformance","TP","TN","FP","FN","GroupCompareVisualizer","acc","fpr","fnr","getWholePerformance","defaultPerformance","drawPerformanceChart","compareChartRef","comparePerformanceRef","wholePerformanceRef","getPerformanceWidth","getPerformanceForThreshold","performanceWidth","group1Color","group2Color","wholePerformance","groupOnePerformance","groupTwoPerformance","performanceHeight","blockHeight","chartHeight","offsetHeight","console","log","groupOneData","groupTwoData","groupOneFP","length","groupOneTP","groupOneFN","groupOneTN","groupTwoFP","groupTwoTP","groupTwoFN","groupTwoTN","groupOne","groupTwo","all","getPerformanceHeight","performance","groupOnePerf","groupTwoPerf","allPerf","vizHeight","drawPerformance","currentPerformance","larger","groupNumber","largerPerformance","actualx","tooltipx","tooltipy","tooltipHalfWidth","groupOneHeight","groupTwoHeight","groupOneCurrentPerformance","groupTwoCurrentPerformance","min","max","largerPercentage","groupSize","getSymbolColor","fp","tp","fn","tn","cp","dots","dot","push","dotData","sum","children","sliceNumber","centerX","centerY","pow","dotRadius","groupOneDots","groupTwoDots","visualizationRef","transform","borderBottom","fontSize","GroupCompareChart","anonData","loggedData","newcomerData","experiencedData","anonymous","newcomer","edit_years","Recommender","onThresChange","thres","onTextChange","target","Number","getData","getObject","array","newArray","arrayIdx","i","elem","accuracy","f1","filter_rate","match_rate","precision","recall","toPrecision","axios","get","res","enwiki","models","statistics","thresholds","true","damagingData","goodfaithData","prop","escape","borderColor","paddingLeft","borderLeft","paddingRight","orientation","alignItems","subtitle","description","obj","src","Input","helperText","inputProps","step","alignSelf","getProp","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","SectionHeader","styled","div","Section","MainContent","data_performance","path","DrawerList","selected","clickSection","List","to","ListItem","klass","button","onClick","createMuiTheme","typography","fontFamily","subtitle1","subtitle2","textTransform","h6","body1","body2","fontStyle","h5","responsiveFontSizes","useStyles","appBar","drawer","flexShrink","drawerPaper","paper","list","textDecoration","toolbar","content","flexGrow","palette","background","default","App","classes","basename","process","ThemeProvider","Drawer","anchor","Paper","elevation","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.090804a0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/data_not-balanced.2c5d8911.csv\";","module.exports = __webpack_public_path__ + \"static/media/data_balanced_1.718935bd.csv\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles, makeStyles} from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\n\nclass ThresholdeSlider extends Component {\n  constructor (props) {\n    super (props);\n    this.getText = this.getText.bind (this);\n  }\n\n  getText = value => {\n    return `${value}%`;\n  };\n\n  state = {};\n  render () {\n    // const classes = useStyles ();\n\n    return (\n      <div style={{position: 'relative', marginTop: '5px'}}>\n        <div style={{position: 'absolute', width: '100%', top: '10px'}}>\n          <div>\n            <div\n              style={{width: '50%', display: 'inline-block', textAlign: 'left'}}\n            >\n              <Typography style={{fontWeight: 'bold'}}>\n                {[<span>&#9664;</span>, ' Identify More']}\n              </Typography>\n            </div>\n            <div\n              style={{\n                width: '50%',\n                display: 'inline-block',\n                textAlign: 'right',\n              }}\n            >\n              <Typography style={{fontWeight: 'bold'}}>\n                {['Identify Less ', <span>&#9654;</span>]}\n              </Typography>\n            </div>\n          </div>\n\n        </div>\n        <div>\n          {this.props.color === 'orange'\n            ? <OrangeSlider\n                valueLabelDisplay=\"auto\"\n                valueLabelFormat={this.getText}\n                aria-label=\"pretto slider\"\n                defaultValue={this.props.defaultValue}\n                onChangeCommitted={this.props.onChangeCommitted}\n              />\n            : <BlackSlider\n                valueLabelDisplay=\"auto\"\n                valueLabelFormat={this.getText}\n                aria-label=\"pretto slider\"\n                defaultValue={this.props.defaultValue}\n                onChangeCommitted={this.props.onChangeCommitted}\n              />}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ThresholdeSlider;\n\nconst useStyles = makeStyles (theme => ({\n  root: {\n    width: 300 + theme.spacing (3) * 2,\n  },\n  margin: {\n    height: theme.spacing (3),\n  },\n}));\n\nconst OrangeSlider = withStyles ({\n  root: {\n    color: '#C57619',\n    height: 10,\n    paddingTop: '50px',\n    paddingBottom: '0px',\n  },\n  thumb: {\n    height: 18,\n    width: 18,\n    backgroundColor: '#fff',\n    border: '2px solid currentColor',\n    marginTop: -8,\n    marginLeft: -9,\n    '&:focus, &:hover, &$active': {\n      boxShadow: 'inherit',\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50%+12px)',\n    fontWeight: 'bold',\n  },\n  track: {\n    height: 4,\n    borderRadius: 4,\n    color: '#909090',\n  },\n  rail: {\n    height: 4,\n    borderRadius: 4,\n    color: '#C57619',\n    opacity: '100%',\n  },\n}) (Slider);\n\nconst BlackSlider = withStyles ({\n  root: {\n    color: '#000000',\n    height: 10,\n    paddingTop: '50px',\n    paddingBottom: '0px',\n  },\n  thumb: {\n    height: 18,\n    width: 18,\n    backgroundColor: '#fff',\n    border: '2px solid currentColor',\n    marginTop: -8,\n    marginLeft: -9,\n    '&:focus, &:hover, &$active': {\n      boxShadow: 'inherit',\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50%+12px)',\n    fontWeight: 'bold',\n  },\n  track: {\n    height: 4,\n    borderRadius: 4,\n    color: '#909090',\n  },\n  rail: {\n    height: 4,\n    borderRadius: 4,\n    color: '#000000',\n    opacity: '100%',\n  },\n}) (Slider);\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport styled from \"styled-components\";\n\nclass ThresholdPerformance extends Component {\n  constructor(props) {\n    super(props);\n    this.chartPerformanceRef = React.createRef();\n    this.getBoxHeight = this.getBoxHeight.bind(this);\n    this.getWidthHeightRatio = this.getWidthHeightRatio.bind(this);\n    this.getMargin = this.getMargin.bind(this);\n    this.getWidth = this.getWidth.bind(this);\n    this.drawChart = this.drawChart.bind(this);\n    this.redrawChart = this.redrawChart.bind(this);\n    this.state = {\n      threshold: 80,\n      width: 1000,\n      height: 1000,\n    };\n  }\n\n  getWidthHeightRatio() {\n    return 2.4;\n  }\n\n  getWidth() {\n    if (this.chartPerformanceRef.current == null) {\n      return this.state.width;\n    } else {\n      return this.chartPerformanceRef.current.parentElement.offsetWidth;\n    }\n  }\n\n  getMargin() {\n    return {\n      top: 30,\n      right: 5,\n      bottom: 20,\n      left: 30,\n      inBetween: this.state.width * 0.2,\n    };\n  }\n\n  componentDidMount() {\n    let width = this.getWidth();\n    let height = width * this.getWidthHeightRatio();\n\n    this.setState(\n      {\n        width: width,\n        height: height,\n      },\n      () => {\n        this.drawChart();\n      }\n    );\n\n    let resizedFn;\n    window.addEventListener(\"resize\", () => {\n      clearTimeout(resizedFn);\n      resizedFn = setTimeout(() => {\n        this.redrawChart();\n      }, 200);\n    });\n  }\n\n  redrawChart() {\n    let width = this.getWidth();\n    this.setState({ width: width, height: width * this.getWidthHeightRatio() });\n    d3.select(\".performanceChart svg\").remove();\n    this.drawChart = this.drawChart.bind(this);\n    this.drawChart();\n  }\n\n  drawChart() {\n    if (this.props.performance_data != null) {\n      const currentDamaging = this.props.damaging;\n      const dataAccuracy = this.props.performance_data.map((d) => ({\n        threshold: d.threshold,\n        value: Math.round(\n          (currentDamaging ? d.damaging_accuracy : d.faith_accuracy) * 100\n        ),\n      }));\n\n      const dataFPR = this.props.performance_data.map((d) => ({\n        threshold: d.threshold,\n        value: Math.round(\n          (currentDamaging ? d.damaging_fpr : d.faith_fpr) * 100\n        ),\n      }));\n\n      const dataFNR = this.props.performance_data.map((d) => ({\n        threshold: d.threshold,\n        value: Math.round(\n          (currentDamaging ? d.damaging_fnr : d.faith_fnr) * 100\n        ),\n      }));\n\n      const dataCollection = [dataAccuracy, dataFPR, dataFNR];\n\n      const margin = this.getMargin();\n      let width = this.state.width - margin.left - margin.right;\n      let height = this.state.height - margin.top - margin.bottom;\n      let eachHeight = (height - margin.inBetween * 2) / 3;\n\n      const betweenThreshold = (x1, x2, number) => {\n        return (number >= x1 && number <= x2) || (number <= x1 && number >= x2);\n      };\n\n      //   const xAxis = g =>\n      //     g\n      //       .attr ('transform', `translate(0,${height / 2})`)\n      //       .call (d3.axisBottom (x).ticks (width / 80).tickSizeOuter (0));\n\n      const getXAxis = (x, type) => {\n        switch (type) {\n          case 0:\n            return function (g) {\n              g.attr(\"transform\", `translate(0,${eachHeight + margin.top})`)\n                .attr(\"class\", \"axisGreyY\")\n                .call(d3.axisBottom(x).tickSize(0));\n            };\n            break;\n          case 1:\n            return function (g) {\n              g.attr(\n                \"transform\",\n                `translate(0,${eachHeight * 2 + margin.inBetween + margin.top})`\n              )\n                .attr(\"class\", \"axisGreyY\")\n                .call(d3.axisBottom(x).tickSize(0));\n            };\n            break;\n          default:\n            return function (g) {\n              g.attr(\"transform\", `translate(0,${height + margin.top})`)\n                .attr(\"class\", \"axisGreyY\")\n                .call(d3.axisBottom(x).tickSize(0));\n            };\n        }\n      };\n\n      //   const y = d3\n      //     .scaleLinear ()\n      //     .domain ([0, d3.max (data, d => d.value)])\n      //     .nice ()\n      //     .range ([height / 2, margin.top]);\n\n      const getY = (type) => {\n        switch (type) {\n          case 0:\n            return d3\n              .scaleLinear()\n              .domain([0, d3.max(dataCollection[0], (d) => d.value)])\n              .nice()\n              .range([eachHeight + margin.top, margin.top]);\n            break;\n          case 1:\n            return d3\n              .scaleLinear()\n              .domain([0, d3.max(dataCollection[1], (d) => d.value)])\n              .nice()\n              .range([\n                eachHeight * 2 + margin.inBetween + margin.top,\n                eachHeight + margin.inBetween + margin.top,\n              ]);\n            break;\n          default:\n            return d3\n              .scaleLinear()\n              .domain([0, d3.max(dataCollection[2], (d) => d.value)])\n              .nice()\n              .range([\n                height + margin.top,\n                eachHeight * 2 + margin.inBetween * 2 + margin.top,\n              ]);\n        }\n      };\n\n      let svg = d3\n        .select(\".performanceChart\")\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom);\n\n      const getPerformanceColor = (type, perform) => {\n        if (type == \"stroke\") {\n          //color for stroke\n          if (perform == 1) {\n            return d3.color(\"#159256\");\n          } else if (perform == 0) {\n            return d3.color(\"#878787\");\n          } else {\n            return d3.color(\"#921515\");\n          }\n        } else {\n          //color for area\n          if (perform == 1) {\n            return d3.color(\"#F0F7F4\");\n          } else if (perform == 0) {\n            return d3.color(\"#E8E8E8\");\n          } else {\n            return d3.color(\"#F7F0F0\");\n          }\n        }\n      };\n\n      const getAreaColor = (type, preValue, currentValue) => {\n        if (type == 0) {\n          //accuracy -> the higher the better\n          if (preValue < currentValue) {\n            //green\n            return getPerformanceColor(\"area\", 1);\n          } else if (preValue > currentValue) {\n            //red\n            return getPerformanceColor(\"area\", -1);\n          } else {\n            return getPerformanceColor(\"area\", 0);\n          }\n        } else {\n          //FPR, FNR -> the lower the better\n          if (preValue < currentValue) {\n            //green\n            return getPerformanceColor(\"area\", -1);\n          } else if (preValue > currentValue) {\n            //red\n            return getPerformanceColor(\"area\", 1);\n          } else {\n            return getPerformanceColor(\"area\", 0);\n          }\n        }\n      };\n\n      const getStrokeColor = (type, preValue, currentValue) => {\n        if (type == 0) {\n          //accuracy -> the higher the better\n          if (preValue < currentValue) {\n            //green\n            return getPerformanceColor(\"stroke\", 1);\n          } else if (preValue > currentValue) {\n            //red\n            return getPerformanceColor(\"stroke\", -1);\n          } else {\n            return getPerformanceColor(\"stroke\", 0);\n          }\n        } else {\n          //FPR, FNR -> the lower the better\n          if (preValue < currentValue) {\n            //green\n            return getPerformanceColor(\"stroke\", -1);\n          } else if (preValue > currentValue) {\n            //red\n            return getPerformanceColor(\"stroke\", 1);\n          } else {\n            return getPerformanceColor(\"stroke\", 0);\n          }\n        }\n      };\n\n      dataCollection.forEach((data, index) => {\n        const defaultValue = data[50].value;\n        const currentValue = data[this.props.threshold].value;\n        const currentThreshold = this.props.threshold;\n        const x = d3\n          .scaleLinear()\n          .domain([0, d3.max(data, (d) => d.threshold)])\n          .nice()\n          .range([margin.left, width - margin.right]);\n\n        const y = getY(index);\n        const xAxis = getXAxis(x, index);\n\n        const yAxis = (g) =>\n          g\n            .attr(\"transform\", `translate(${margin.left},0)`)\n            .attr(\"class\", \"axisGrey\")\n            .call(d3.axisLeft(y).ticks(2));\n\n        const line = d3\n          .line()\n          .defined((d) => !isNaN(d.value))\n          .x((d) => x(d.threshold))\n          .y((d) => y(d.value));\n\n        const area = d3\n          .area()\n          .defined((d) =>\n            betweenThreshold(0.5, currentThreshold * 0.01, d.threshold)\n          )\n          .x((d) => x(d.threshold))\n          .y0(y(0))\n          .y1((d) => y(d.value));\n\n        svg\n          .append(\"path\")\n          .datum(data.filter(area.defined()))\n          .attr(\"fill\", getAreaColor(index, defaultValue, currentValue))\n          .attr(\"d\", area);\n\n        svg\n          .append(\"path\")\n          .datum(data)\n          .attr(\"fill\", \"none\")\n          .attr(\"stroke\", \"grey\")\n          .attr(\"stroke-width\", 1.5)\n          .attr(\"stroke-linejoin\", \"round\")\n          .attr(\"stroke-linecap\", \"round\")\n          .attr(\"d\", line);\n\n        svg\n          .append(\"line\")\n          .attr(\"x1\", x(currentThreshold * 0.01))\n          .attr(\"y1\", y(currentValue))\n          .attr(\"x2\", x(currentThreshold * 0.01))\n          .attr(\n            \"y2\",\n            margin.top + index * margin.inBetween + (index + 1) * eachHeight\n          )\n          .attr(\"stroke-width\", 2)\n          .attr(\"stroke\", getStrokeColor(index, defaultValue, currentValue))\n          .style(\"stroke-dasharray\", \"5,5\");\n\n        svg\n          .append(\"line\")\n          .attr(\"x1\", x(50 * 0.01))\n          .attr(\"y1\", y(defaultValue))\n          .attr(\"x2\", x(50 * 0.01))\n          .attr(\n            \"y2\",\n            margin.top + index * margin.inBetween + (index + 1) * eachHeight\n          )\n          .attr(\"stroke-width\", 2)\n          .attr(\"stroke\", d3.color(\"#D2D2D2\"));\n\n        svg\n          .append(\"text\")\n          .attr(\"x\", x(currentThreshold * 0.01))\n          .attr(\"y\", y(currentValue + 8))\n          .attr(\"text-anchor\", \"middle\")\n          .text(`${currentValue}%`)\n          .attr(\"font-family\", \"sans-serif\")\n          .attr(\"font-size\", \"20px\")\n          .attr(\"fill\", getStrokeColor(index, defaultValue, currentValue));\n\n        svg.append(\"g\").call(xAxis);\n\n        svg.append(\"g\").call(yAxis);\n      });\n    }\n  }\n\n  getBoxHeight() {\n    const margin = this.getMargin();\n    return (\n      (this.state.height - margin.top - margin.bottom - margin.inBetween * 2) /\n      3\n    );\n  }\n\n  render() {\n    const message = this.props.damaging ? \"damaging\" : \"good faith\";\n    const opposite = this.props.damaging ? \"good\" : \"bad faith\";\n    return (\n      <div style={{ marginTop: \"20px\" }}>\n        <div\n          style={{\n            width: \"50%\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n          }}\n        >\n          <div\n            style={{ marginTop: \"20px\" }}\n            className=\"performanceChart\"\n            ref={this.chartPerformanceRef}\n          />\n        </div>\n        <div\n          style={{\n            width: \"50%\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n          }}\n        >\n          <div\n            style={{\n              height: `${this.getBoxHeight()}px`,\n              padding: \"0% 5%\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              marginTop: `${this.getMargin().top + 20}px`,\n              marginBottom: `${this.getMargin().inBetween}px`,\n            }}\n          >\n            <div>\n              <Typography variant=\"h6\" textAlign=\"center\">\n                Accuracy{\" \"}\n              </Typography>\n              <Typography variant=\"body2\">\n                Correctly predicted edits out of all edits{\" \"}\n              </Typography>\n            </div>\n          </div>\n\n          <div\n            style={{\n              height: `${this.getBoxHeight()}px`,\n              padding: \"0% 5%\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n              marginBottom: `${this.getMargin().inBetween}px`,\n            }}\n          >\n            <div>\n              <Typography variant=\"h6\" textAlign=\"center\">\n                False Positive Rate\n              </Typography>\n              <Typography variant=\"body2\">\n                Percentage of {opposite} edits that are falsely identified as{\" \"}\n                {message}{\" \"}\n              </Typography>\n            </div>\n          </div>\n\n          <div\n            style={{\n              height: `${this.getBoxHeight()}px`,\n              padding: \"0% 5%\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n            }}\n          >\n            <div>\n              <Typography variant=\"h6\" textAlign=\"center\">\n                False Negative Rate\n              </Typography>\n              <Typography variant=\"body2\">\n                Percentage of {message} edits that won’t be identified{\" \"}\n              </Typography>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ThresholdPerformance;\n","import React, {Component} from 'react';\nclass Circle extends Component {\n  constructor (props) {\n    super (props);\n  }\n  state = {};\n  render () {\n    const size = this.props.size / 2;\n    return (\n      <svg height={size * 2} width={size * 2}>\n        <circle cx={size} cy={size} r={size} fill={this.props.color} />\n      </svg>\n    );\n  }\n}\n\nexport class Cross extends Component {\n  constructor (props) {\n    super (props);\n  }\n  state = {};\n  render () {\n    const size = this.props.size;\n    return (\n      <svg height={size} width={size}>\n        <line\n          x1=\"0\"\n          y1=\"0\"\n          x2={size}\n          y2={size}\n          stroke={this.props.color}\n          strokeWidth={2}\n        />\n        <line\n          x1=\"0\"\n          y1={size}\n          x2={size}\n          y2=\"0\"\n          stroke={this.props.color}\n          strokeWidth={2}\n        />\n      </svg>\n    );\n  }\n}\n\nexport default Circle;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { ToggleButtonGroup, ToggleButton } from \"@material-ui/lab\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\n\nclass TypeToggle extends Component {\n  render() {\n    return (\n      <Grid item xs={this.props.gridSize} className=\"modelOptions\">\n        <Typography component=\"div\" variant=\"subtitle2\">\n          <Box>MODEL OPTIONS</Box>\n        </Typography>\n        <ToggleButtonGroup\n          exclusive\n          value={this.props.damaging}\n          onChange={this.props.onChange}\n          className=\"options\"\n        >\n          <Typography\n            component={ToggleButton}\n            value={true}\n            variant=\"h6\"\n            className=\"text\"\n          >\n            Damaging Model\n          </Typography>\n          <Typography\n            value={false}\n            component={ToggleButton}\n            variant=\"h6\"\n            className=\"text\"\n          >\n            GoodFaith Model\n          </Typography>\n        </ToggleButtonGroup>\n      </Grid>\n    );\n  }\n}\n\nexport default TypeToggle;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport ThresholdSlider from \"../../partials/slider\";\nimport ThresholdPerformance from \"./threshold_performance\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { ToggleButtonGroup, ToggleButton } from \"@material-ui/lab\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Circle, { Cross } from \"../../partials/shape\";\nimport TypeToggle from \"../../partials/typeToggle\";\n\nclass ThresholdExplorer extends Component {\n  constructor(props) {\n    super(props);\n    this.chartRef = React.createRef();\n    this.getWidth = this.getWidth.bind(this);\n    this.drawChart = this.drawChart.bind(this);\n    this.redrawChart = this.redrawChart.bind(this);\n    this.state = {\n      threshold: 60,\n      width: 1000,\n      height: 1000,\n      widthHeightRatio: 0.8,\n      graph1Scale: 1,\n      dotWidth: 0,\n      sliderRange: [20, 1000],\n      damaging: true,\n    };\n  }\n\n  getWidth() {\n    if (this.chartRef.current == null) {\n      return this.state.width;\n    } else {\n      return this.chartRef.current.parentElement.offsetWidth;\n    }\n  }\n\n  onSliderChange = (event, threshold) => {\n    this.setState({\n      threshold: threshold,\n    });\n    d3.select(\".rowChart svg\").remove();\n    this.drawChart = this.drawChart.bind(this);\n    this.drawChart();\n  };\n\n  onTypeChange = (event, type) => {\n    if (type != null) {\n      this.setState({ damaging: type });\n      this.state.damaging = type;\n      d3.select(\".rowChart svg\").remove();\n      this.drawChart = this.drawChart.bind(this);\n      this.drawChart();\n    }\n  };\n\n  componentDidMount() {\n    let width = this.getWidth();\n    let height = width * 0.8;\n    let sliderRight = width - 30;\n\n    this.setState(\n      {\n        width: width,\n        height: height,\n        sliderRange: [10, sliderRight],\n        damaging: true,\n      },\n      () => {\n        this.drawChart();\n      }\n    );\n\n    let resizedFn;\n    window.addEventListener(\"resize\", () => {\n      clearTimeout(resizedFn);\n      resizedFn = setTimeout(() => {\n        this.redrawChart();\n      }, 200);\n    });\n  }\n\n  redrawChart() {\n    let width = this.getWidth();\n    let sliderRight = width - 30;\n    this.setState({\n      width: width,\n      height: width * 0.8,\n      sliderRange: [10, sliderRight],\n      damaging: this.state.damaging,\n    });\n    d3.select(\".rowChart svg\").remove();\n    this.drawChart = this.drawChart.bind(this);\n    this.drawChart();\n  }\n\n  drawChart() {\n    const margin = { top: 0, right: 30, bottom: 30, left: 10 };\n    let width = this.state.width - margin.left - margin.right;\n    let height = this.state.height - margin.top - margin.bottom;\n    // append the svg object to the body of the page\n    let svg = d3\n      .select(\".rowChart\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom);\n\n    const threshold = this.state.threshold / 100;\n    const graph1Scale = 1;\n\n    const diameter = (width * graph1Scale) / 50;\n    const dotWidth = diameter * 0.5;\n    if (this.props.data != null) {\n      const dd = dodge(\n        threshold,\n        this.props.data,\n        diameter,\n        this.state.damaging\n      );\n\n      const xAxis = (g) =>\n        g\n          .attr(\"transform\", `translate(0,${margin.top})`)\n          .call(d3.axisTop(x).ticks(0));\n\n      const x = d3\n        .scaleLinear()\n        .domain([0, 1])\n        .nice()\n        .range([margin.left, width + margin.left]);\n\n      // const shape = d3.scaleOrdinal (\n      //   dd.map (d => d.category),\n      //   d3.symbols.map (s =>\n      //     d3.symbol ().size (diameter * diameter * 0.4).type (s) ()\n      //   )\n      // );\n\n      function dodge(threshold, data, diameter, damaging) {\n        const circles = data\n          .map((d) => ({\n            xvalue: parseFloat(\n              damaging ? d.confidence_damage : d.confidence_faith\n            ).toFixed(2),\n            x:\n              0.02 *\n              Math.ceil(\n                parseFloat(\n                  damaging ? d.confidence_damage : d.confidence_faith\n                ).toFixed(2) * 50\n              ),\n            correct:\n              parseFloat(\n                damaging ? d.confidence_damage : d.confidence_faith\n              ).toFixed(2) >=\n                threshold ==\n              damaging\n                ? d.damaging_label\n                : d.faith_label,\n            predict:\n              parseFloat(\n                damaging ? d.confidence_damage : d.confidence_faith\n              ).toFixed(2) >= threshold,\n            label: damaging ? d.damaging_label : d.faith_label,\n          }))\n          .sort(function (a, b) {\n            if (a.x == b.x) {\n              let ca = a.correct ? 1 : 0;\n              let cb = b.correct ? 1 : 0;\n              return cb - ca;\n            } else {\n              return b.x - a.x;\n            }\n          });\n        const epsilon = 1e-4;\n\n        let prev = 100;\n        let cnt = 1;\n\n        for (const b of circles) {\n          //determine the position of the dot\n          if (Math.abs(prev - b.x) < epsilon) {\n            // belongs to the same col\n            cnt += 1;\n            b.y = diameter * cnt;\n          } else {\n            prev = b.x;\n            cnt = 1;\n            b.y = diameter;\n          }\n\n          if (b.correct) {\n            b.category = 1;\n          } else {\n            b.category = 0;\n          }\n\n          if (b.predict) {\n            b.color = d3.color(\"#C57619\");\n          } else {\n            b.color = d3.color(\"#909090\");\n          }\n        }\n\n        return circles;\n      }\n\n      var customCross = {\n        draw: function (context, size) {\n          let s = Math.sqrt(size * 2) / 2;\n          let w = Math.sqrt(size) / 6;\n          context.moveTo(-s, w);\n          context.lineTo(s, w);\n          context.lineTo(s, -w);\n          context.lineTo(-s, -w);\n          context.closePath();\n          context.moveTo(w, s);\n          context.lineTo(w, -s);\n          context.lineTo(-w, -s);\n          context.lineTo(-w, s);\n          context.closePath();\n        },\n      };\n\n      // svg.append ('g').call (xAxis);\n\n      svg\n        .append(\"line\")\n        .attr(\"x1\", width + margin.left - dotWidth * 100 * (1 - threshold))\n        .attr(\"y1\", margin.top)\n        .attr(\"x2\", width + margin.left - dotWidth * 100 * (1 - threshold))\n        .attr(\"y2\", height - 30)\n        .attr(\"stroke-width\", 2)\n        .attr(\"stroke\", \"black\")\n        .style(\"stroke-dasharray\", \"5,5\");\n\n      const thresholdText = threshold * 100 + \"%\";\n      svg\n        .append(\"text\")\n        .attr(\"x\", width + margin.left - dotWidth * 100 * (1 - threshold))\n        .attr(\"y\", height - 15)\n        .attr(\"text-anchor\", \"middle\")\n        .text(thresholdText)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"font-size\", \"15px\");\n\n      svg\n        .append(\"g\")\n        .selectAll(\"path\")\n        .data(dd)\n        .join(\"path\")\n        .attr(\n          \"transform\",\n          (d) => `translate(${x(d.x)},${d.y + margin.top}), rotate(45)`\n        )\n        .attr(\"fill\", (d) => d.color)\n        .attr(\n          \"d\",\n          d3\n            .symbol()\n            .type(function (d) {\n              if (d.category === 0) {\n                return customCross;\n              } else {\n                return d3.symbolCircle;\n              }\n            })\n            .size(diameter * diameter * 0.4)\n        );\n    }\n  }\n\n  // shouldComponentUpdate (nextProps, nextState) {\n  //   return (\n  //     this.props.performance_data !== nextProps.performance_data ||\n  //     this.state != nextState\n  //   );\n  // }\n\n  render() {\n    const message = this.state.damaging ? \"damaging\" : \"good faith\";\n    const opposite = this.state.damaging ? \"good\" : \"bad faith\";\n    return (\n      <React.Fragment>\n        <div\n          style={{\n            width: \"55%\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n            position: \"relative\",\n          }}\n        >\n          <div className=\"upperSettings\">\n            <Grid container spacing={0}>\n              <TypeToggle\n                damaging={this.state.damaging}\n                onChange={this.onTypeChange}\n                gridSize={9}\n                key={this.state.damaging}\n              />\n              <Grid item xs={3} className=\"threshold\">\n                <div className=\"innerBox\">\n                  <Typography variant=\"subtitle2\">\n                    <Box>threshold</Box>\n                  </Typography>\n\n                  <Grid container spacing={2} className=\"options\">\n                    <Grid item xs={12}>\n                      <Typography component=\"div\" variant=\"h6\" className=\"text\">\n                        {this.state.threshold} %\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </div>\n              </Grid>\n            </Grid>\n          </div>\n\n          <div\n            style={{\n              marginLeft: `${this.state.sliderRange[0]}px`,\n              width: `${\n                this.state.sliderRange[1] - this.state.sliderRange[0]\n              }px`,\n            }}\n          >\n            <Typography variant=\"subtitle2\">VISUALIZATION</Typography>\n            <ThresholdSlider\n              defaultValue={60}\n              onChangeCommitted={this.onSliderChange}\n              color={\"orange\"}\n            />\n          </div>\n          <div className=\"rowChart\" ref={this.chartRef} />\n          <div className=\"legendCard\" id=\"explorerLegend\">\n            <Typography component=\"div\" variant=\"subtitle2\">\n              legend\n            </Typography>\n            <Grid container spacing={0} style={{ marginTop: \"10px\" }}>\n              <Grid item xs={12}>\n                <div className=\"legendMark\">\n                  <Circle size={12} color=\"#909090\" />{\" \"}\n                  <Typography component=\"span\" variant=\"body2\">\n                    Correctly classified {opposite} edits (TN)\n                  </Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div className=\"legendMark\">\n                  <Cross size={12} color=\"#909090\" />{\" \"}\n                  <Typography component=\"span\" variant=\"body2\">\n                    Uncaught {message} edits (FN){\" \"}\n                  </Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div className=\"legendMark\">\n                  <Circle size={12} color=\"#C57619\" />{\" \"}\n                  <Typography component=\"span\" variant=\"body2\">\n                    Correctly classified {message} edits (TP)\n                  </Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div className=\"legendMark\">\n                  <Cross size={12} color=\"#C57619\" />{\" \"}\n                  <Typography component=\"span\" variant=\"body2\">\n                    Mis-classified {opposite} edits (FP){\" \"}\n                  </Typography>\n                </div>\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n\n        <div className=\"sidePanel\">\n          <Typography variant=\"subtitle2\">PERFORMANCE</Typography>\n          <ThresholdPerformance\n            performance_data={this.props.performance_data}\n            threshold={this.state.threshold}\n            key={[this.state.damaging, this.state.threshold]}\n            damaging={this.state.damaging}\n          />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ThresholdExplorer;\n","import React, {Component} from 'react';\nimport ThresholdExplorer from './threshold_explorer';\nimport * as d3 from 'd3';\nimport data_balanced from '../../data/data_not-balanced.csv';\nimport data_performance from '../../data/performance.csv';\n\nclass Chart extends Component {\n  constructor (props) {\n    super (props);\n    this.state = {\n      data: null,\n      change: 0,\n    };\n  }\n\n  componentDidMount () {\n    d3\n      .csv (data_balanced, d => {\n        return {\n          confidence_faith: d.confidence_faith,\n          faith_label: d.goodfaith == 'True' ? true : false,\n          confidence_damage: +d.confidence_damage,\n          damaging_label: d.damaging == 'True' ? true : false,\n        };\n      })\n      .then (data => {\n        this.setState ({data: data.slice (0, 2000)});\n        this.setState ({change: 2});\n      });\n  }\n\n  shouldComponentUpdate (nextProps, nextState) {\n    return true;\n  }\n\n  render () {\n    return (\n      <div style={{display: 'flex'}}>\n        {/* <Test data={this.state.data} key={this.state.change} /> */}\n        <ThresholdExplorer\n          data={this.state.data}\n          performance_data={this.props.performanceData}\n          key={this.state.change}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Chart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport dotData from \"../../data/new.json\";\nimport ThresholdSlider from \"../../partials/slider\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Circle, { Cross } from \"../../partials/shape\";\nimport TypeToggle from \"../../partials/typeToggle\";\nimport { ToggleButtonGroup, ToggleButton } from \"@material-ui/lab\";\n\nconst getColor = (accuracy, defaultValue, currentValue) => {\n  let perform = 1;\n  if (accuracy) {\n    if (defaultValue > currentValue) {\n      perform = -1;\n    } else if (defaultValue === currentValue) {\n      perform = 0;\n    } else {\n      perform = 1;\n    }\n  } else {\n    if (defaultValue > currentValue) {\n      perform = 1;\n    } else if (defaultValue === currentValue) {\n      perform = 0;\n    } else {\n      perform = -1;\n    }\n  }\n  //color for stroke\n  if (perform === 1) {\n    return d3.color(\"#159256\");\n  } else if (perform === 0) {\n    return d3.color(\"#878787\");\n  } else {\n    return d3.color(\"#921515\");\n  }\n};\n\nconst getPerformance = (data) => {\n  const TP = data[0],\n    TN = data[1],\n    FP = data[2],\n    FN = data[3];\n  //accuracy:\n  const acc = (TP + TN) / (TP + TN + FP + FN);\n  const fpr = FP / (FP + TN);\n  const fnr = FN / (FN + TP);\n  return [acc, fpr, fnr];\n};\n\nclass GroupCompareVisualizer extends Component {\n  constructor(props) {\n    super(props);\n    this.compareChartRef = React.createRef();\n    this.comparePerformanceRef = React.createRef();\n    this.wholePerformanceRef = React.createRef();\n    this.getMargin = this.getMargin.bind(this);\n    this.getWidth = this.getWidth.bind(this);\n    this.drawChart = this.drawChart.bind(this);\n    this.redrawChart = this.redrawChart.bind(this);\n    this.getWholePerformance = this.getWholePerformance.bind(this);\n    this.getPerformanceWidth = this.getPerformanceWidth.bind(this);\n    this.getPerformanceForThreshold = this.getPerformanceForThreshold.bind(\n      this\n    );\n    this.state = {\n      threshold: 60,\n      width: 1000,\n      height: 1000,\n      performanceWidth: 1000,\n      group1Color: \"#C57619\",\n      group2Color: \"#3777A5\",\n      sliderRange: [20, 1000],\n      wholePerformance: [0, 0, 0],\n      defaultPerformance: [0, 0, 0],\n      groupOnePerformance: null,\n      groupTwoPerformance: null,\n      damaging: true,\n    };\n  }\n\n  getMargin() {\n    const performanceHeight = this.state.performanceHeight;\n    const bottom = 50;\n    return {\n      top: 0,\n      right: 40,\n      bottom: bottom,\n      left: 20,\n      blockHeight: (performanceHeight - bottom) / 3,\n      chartHeight: (performanceHeight - bottom) / 12,\n    };\n  }\n\n  getWidth() {\n    if (this.compareChartRef.current === null) {\n      return this.state.width;\n    } else {\n      return this.compareChartRef.current.parentElement.offsetWidth;\n    }\n  }\n\n  getPerformanceWidth() {\n    if (this.comparePerformanceRef.current === null) {\n      return this.state.performanceWidth;\n    } else {\n      return this.comparePerformanceRef.current.parentElement.offsetWidth;\n    }\n  }\n\n  getPerformanceHeight() {\n    if (\n      this.wholePerformanceRef.current === null ||\n      this.compareChartRef.current === null\n    ) {\n      return this.state.performanceHeight;\n    } else {\n      return (\n        (this.compareChartRef.current.parentElement.offsetWidth - 60) * 0.5 +\n        300 -\n        this.wholePerformanceRef.current.offsetHeight\n      );\n    }\n  }\n\n  getPerformanceForThreshold() {\n    const threshold = this.state.threshold * 0.01;\n    const damaging = this.state.damaging;\n    console.log(this.state.damaging, damaging);\n    if (this.props.groupOneData != null && this.props.groupTwoData != null) {\n      const groupOneFP = this.props.groupOneData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) >= threshold &&\n          !(damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      const groupOneTP = this.props.groupOneData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) >= threshold &&\n          (damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      const groupOneFN = this.props.groupOneData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) < threshold &&\n          (damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      const groupOneTN = this.props.groupOneData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) < threshold &&\n          !(damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      const groupTwoFP = this.props.groupTwoData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) >= threshold &&\n          !(damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      const groupTwoTP = this.props.groupTwoData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) >= threshold &&\n          (damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      const groupTwoFN = this.props.groupTwoData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) < threshold &&\n          (damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      const groupTwoTN = this.props.groupTwoData.filter(function (d) {\n        return (\n          (damaging ? d.confidence_damage : d.confidence_faith) < threshold &&\n          !(damaging ? d.damaging_label : d.faith_label)\n        );\n      }).length;\n\n      return {\n        groupOne: [groupOneTP, groupOneTN, groupOneFP, groupOneFN],\n        groupTwo: [groupTwoTP, groupTwoTN, groupTwoFP, groupTwoFN],\n        all: [\n          groupOneTP + groupTwoTP,\n          groupOneTN + groupTwoTN,\n          groupOneFP + groupTwoFP,\n          groupOneFN + groupTwoFN,\n        ],\n      };\n    } else {\n      return {\n        groupOne: this.state.groupOnePerformance,\n        groupTwo: this.state.groupTwoPerformance,\n        all: this.state.wholePerformance,\n      };\n    }\n  }\n\n  onTypeChange = (event, type) => {\n    if (type != null) {\n      let acc = 0;\n      let fpr = 0;\n      let fnr = 0;\n\n      if (this.props.performanceData != null) {\n        const data = this.props.performanceData;\n        acc =\n          100 * (type ? data[50].damaging_accuracy : data[50].faith_accuracy);\n        fpr = 100 * (type ? data[50].damaging_fpr : data[50].faith_fpr);\n        fnr = 100 * (type ? data[50].damaging_fnr : data[50].faith_fnr);\n      }\n\n      this.setState({\n        damaging: type,\n        // defaultPerformance: [acc.toFixed(1), fpr.toFixed(1), fnr.toFixed(1)],\n      });\n\n      this.state.damaging = type;\n      //   this.state.defaultPerformance = [\n      //     acc.toFixed(1),\n      //     fpr.toFixed(1),\n      //     fnr.toFixed(1),\n      //   ];\n\n      this.getWholePerformance();\n      d3.select(\".compareChart svg\").remove();\n      this.drawChart = this.drawChart.bind(this);\n      this.drawChart();\n\n      this.setState({\n        // damaging: type,\n        defaultPerformance: [acc.toFixed(1), fpr.toFixed(1), fnr.toFixed(1)],\n      });\n      //   this.state.defaultPerformance = [\n      //     acc.toFixed(1),\n      //     fpr.toFixed(1),\n      //     fnr.toFixed(1),\n      //   ];\n\n      d3.select(\".comparePerformance svg\").remove();\n      this.drawPerformanceChart = this.drawPerformanceChart.bind(this);\n      this.drawPerformanceChart();\n\n      this.setState({\n        // damaging: type,\n        defaultPerformance: [acc.toFixed(1), fpr.toFixed(1), fnr.toFixed(1)],\n      });\n    }\n  };\n\n  onSliderChange = (event, threshold) => {\n    this.setState({\n      threshold: threshold,\n    });\n\n    this.getWholePerformance();\n\n    d3.select(\".compareChart svg\").remove();\n    this.drawChart = this.drawChart.bind(this);\n    this.drawChart();\n    d3.select(\".comparePerformance svg\").remove();\n    this.drawPerformanceChart = this.drawPerformanceChart.bind(this);\n    this.drawPerformanceChart();\n  };\n\n  componentDidMount() {\n    let width = this.getWidth();\n    let height = width / 2.4;\n    let performanceWidth = this.getPerformanceWidth();\n    let performanceHeight = this.getPerformanceHeight();\n    let sliderRight = width - 40;\n    this.getWholePerformance();\n    let acc = 0;\n    let fpr = 0;\n    let fnr = 0;\n    if (this.props.performanceData != null) {\n      const data = this.props.performanceData;\n      acc = data[50].damaging_accuracy * 100;\n      fpr = 100 * data[50].damaging_fpr;\n      fnr = 100 * data[50].damaging_fnr;\n    }\n\n    this.setState(\n      {\n        width: width,\n        height: height,\n        sliderRange: [10, sliderRight],\n        performanceWidth: performanceWidth,\n        performanceHeight: performanceHeight,\n        damaging: true,\n        defaultPerformance: [acc.toFixed(1), fpr.toFixed(1), fnr.toFixed(1)],\n      },\n      () => {\n        this.drawChart();\n        this.drawPerformanceChart();\n      }\n    );\n\n    let resizedFn;\n    window.addEventListener(\"resize\", () => {\n      clearTimeout(resizedFn);\n      resizedFn = setTimeout(() => {\n        this.redrawChart();\n      }, 200);\n    });\n  }\n\n  redrawChart() {\n    let width = this.getWidth();\n    let performanceWidth = this.getPerformanceWidth();\n    let performanceHeight = this.getPerformanceHeight();\n    let sliderRight = width - 40;\n    this.setState({\n      width: width,\n      height: width / 2,\n      performanceWidth: performanceWidth,\n      performanceHeight: performanceHeight,\n\n      sliderRange: [10, sliderRight],\n    });\n    d3.select(\".compareChart svg\").remove();\n    this.drawChart = this.drawChart.bind(this);\n    this.drawChart();\n    d3.select(\".comparePerformance svg\").remove();\n    this.drawPerformanceChart = this.drawPerformanceChart.bind(this);\n    this.drawPerformanceChart();\n  }\n\n  getWholePerformance() {\n    if (\n      this.props.performanceData != null &&\n      this.props.groupOneData != null &&\n      this.props.groupTwoData != null\n    ) {\n      const performance = this.getPerformanceForThreshold();\n      const groupOnePerf = performance.groupOne;\n      const groupTwoPerf = performance.groupTwo;\n      const allPerf = getPerformance(performance.all);\n\n      this.setState({\n        wholePerformance: allPerf,\n        groupOnePerformance: groupOnePerf,\n        groupTwoPerformance: groupTwoPerf,\n      });\n    }\n  }\n  drawPerformanceChart() {\n    const margin = this.getMargin();\n    let width = this.state.performanceWidth - margin.left - margin.right;\n    let height = this.state.performanceHeight - margin.top - margin.bottom;\n    let svg = d3\n      .select(\".comparePerformance\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom);\n\n    let blockHeight = height / 3;\n    let vizHeight = blockHeight / 4;\n    // TP, TN, FP, FN\n    if (\n      this.state.groupOnePerformance != null &&\n      this.state.groupTwoPerformance != null\n    ) {\n      let groupOnePerformance = getPerformance(this.state.groupOnePerformance);\n      let groupTwoPerformance = getPerformance(this.state.groupTwoPerformance);\n\n      let wholePerformance = this.state.wholePerformance;\n      const x = d3\n        .scaleLinear()\n        .domain([0, 1])\n        .nice()\n        .range([margin.left, margin.left + width]);\n\n      function drawPerformance(\n        height,\n        defaultPerformance,\n        currentPerformance,\n        color,\n        larger,\n        groupNumber,\n        largerPerformance\n      ) {\n        const markHeight = 5;\n        const markWidth = 6;\n        const actualx = x(currentPerformance);\n\n        svg\n          .append(\"line\")\n          .attr(\"x1\", margin.left)\n          .attr(\"y1\", height)\n          .attr(\"x2\", margin.left + width)\n          .attr(\"y2\", height)\n          .attr(\"stroke-width\", 2)\n          .attr(\"stroke\", \"grey\");\n        svg\n          .append(\"line\")\n          .attr(\"x1\", actualx)\n          .attr(\"y1\", height - markHeight)\n          .attr(\"x2\", actualx)\n          .attr(\"y2\", height + markHeight)\n          .attr(\"stroke-width\", markWidth)\n          .attr(\"stroke\", color);\n\n        svg\n          .append(\"line\")\n          .attr(\"x1\", x(defaultPerformance))\n          .attr(\"y1\", height)\n          .attr(\"x2\", actualx)\n          .attr(\"y2\", height)\n          .attr(\"stroke-width\", 3)\n          .attr(\"stroke\", color);\n\n        let tooltipHalfWidth = 40;\n        let tooltipx = actualx - tooltipHalfWidth;\n\n        if (tooltipx < margin.left) {\n          tooltipx = margin.left;\n        } else if (tooltipx > width + margin.left + margin.right) {\n          tooltipx = width + margin.left + margin.right - tooltipHalfWidth;\n        }\n        let tooltipy = height + 10;\n        if (larger) {\n          if (groupNumber == 1) {\n            tooltipy = height - 35;\n          }\n\n          svg\n            .append(\"rect\")\n            .attr(\"x\", tooltipx)\n            .attr(\"y\", tooltipy)\n            .attr(\"width\", tooltipHalfWidth * 2)\n            .attr(\"height\", 24)\n            .attr(\"rx\", 4)\n            .attr(\"ry\", 4)\n            .attr(\"fill\", color);\n\n          svg\n            .append(\"text\")\n            .attr(\"x\", tooltipx + tooltipHalfWidth)\n            .attr(\"y\", tooltipy + 13)\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"alignment-baseline\", \"middle\")\n            .text(largerPerformance + \" more\")\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"fill\", \"white\")\n            .attr(\"font-size\", \"14px\");\n        }\n      }\n\n      [\"Accuracy\", \"FPR\", \"FNR\"].forEach((item, index) => {\n        const groupOneHeight = blockHeight * index + vizHeight * 3;\n        const groupTwoHeight = margin.top + blockHeight * index + vizHeight * 4;\n\n        const groupOneCurrentPerformance = groupOnePerformance[index];\n        const groupTwoCurrentPerformance = groupTwoPerformance[index];\n\n        let min = groupOneCurrentPerformance;\n        let max = groupTwoCurrentPerformance;\n        let larger = 2;\n        if (groupOneCurrentPerformance > groupTwoCurrentPerformance) {\n          min = groupTwoCurrentPerformance;\n          max = groupOneCurrentPerformance;\n          larger = 1;\n        } else if (groupOneCurrentPerformance > groupTwoCurrentPerformance) {\n          larger = 0;\n        }\n\n        let largerPercentage = 0;\n        if (min === 0) {\n          largerPercentage = \"∞\";\n        } else {\n          largerPercentage = Math.round(((max - min) * 100) / max) + \"%\";\n        }\n\n        drawPerformance(\n          groupOneHeight,\n          wholePerformance[index],\n          groupOnePerformance[index],\n          d3.color(this.state.group1Color),\n          larger === 1,\n          1,\n          largerPercentage\n        );\n        drawPerformance(\n          groupTwoHeight,\n          wholePerformance[index],\n          groupTwoPerformance[index],\n          d3.color(this.state.group2Color),\n          larger === 2,\n          2,\n          largerPercentage\n        );\n      });\n    }\n  }\n\n  drawChart() {\n    const margin = { top: 20, right: 40, bottom: 0, left: 0 };\n    let width = this.state.width - margin.left - margin.right;\n    let height = width / 2.5;\n    // append the svg object to the body of the page\n    let svg = d3\n      .select(\".compareChart\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height);\n\n    var customCross = {\n      draw: function (context, size) {\n        let s = Math.sqrt(size * 2) / 2;\n        let w = Math.sqrt(size) / 6;\n        context.moveTo(-s, w);\n        context.lineTo(s, w);\n        context.lineTo(s, -w);\n        context.lineTo(-s, -w);\n        context.closePath();\n        context.moveTo(w, s);\n        context.lineTo(w, -s);\n        context.lineTo(-w, -s);\n        context.lineTo(-w, s);\n        context.closePath();\n      },\n    };\n\n    const groupSize = width / 2.4;\n\n    const pack = (data) =>\n      d3\n        .pack()\n        .size([groupSize - 2, groupSize - 2])\n        .padding(3)(\n        d3\n          .hierarchy(data)\n          .sum((d) => d.value)\n          .sort((a, b) => b.value - a.value)\n      );\n\n    const threshold = this.state.threshold * 0.01;\n\n    const app = this;\n\n    if (\n      this.props.groupOneData != null &&\n      this.props.groupTwoData != null &&\n      this.state.groupOnePerformance != null &&\n      this.state.groupTwoPerformance != null\n    ) {\n      const groupOnePerf = this.state.groupOnePerformance;\n      const groupTwoPerf = this.state.groupTwoPerformance;\n      const groupOneTP = groupOnePerf[0],\n        groupOneTN = groupOnePerf[1],\n        groupOneFP = groupOnePerf[2],\n        groupOneFN = groupOnePerf[3];\n      const groupTwoTP = groupTwoPerf[0],\n        groupTwoTN = groupTwoPerf[1],\n        groupTwoFP = groupTwoPerf[2],\n        groupTwoFN = groupTwoPerf[3];\n\n      const dots = pack(dotData)\n        .children.slice(0, this.props.sliceNumber)\n        .map((d) => ({\n          x: d.x,\n          y: d.y,\n          r: d.r,\n          category: \"cross\",\n        }))\n        .sort(function (a, b) {\n          const centerX = margin.left + height;\n          const centerY = height / 2 + margin.top;\n          const distA = Math.sqrt(\n            Math.pow(a.x - centerX, 2) + Math.pow(a.y - centerY, 2)\n          );\n          const distB = Math.sqrt(\n            Math.pow(b.x - centerX, 2) + Math.pow(b.y - centerY, 2)\n          );\n          return distA - distB;\n        });\n\n      const dotRadius = dots[0].r;\n\n      function getSymbolColor(color, fp, tp, fn, tn) {\n        let dd = [];\n        const cp = [fp, fp + tp, fp + tp + fn];\n        dots.forEach(function (dot, index) {\n          if (index < cp[0]) {\n            dd.push({\n              //false positive\n              x: dot.x,\n              y: dot.y,\n              category: 0,\n              color: color,\n            });\n          } else if (index >= cp[0] && index < cp[1]) {\n            dd.push({\n              //true positive\n              x: dot.x,\n              y: dot.y,\n              category: 1,\n              color: color,\n            });\n          } else if (index >= cp[1] && index < cp[2]) {\n            dd.push({\n              //false negative\n              x: dot.x,\n              y: dot.y,\n              category: 0,\n              color: d3.color(\"#909090\"),\n            });\n          } else {\n            dd.push({\n              //false positive\n              x: dot.x,\n              y: dot.y,\n              category: 1,\n              color: d3.color(\"#909090\"),\n            });\n          }\n        });\n\n        return dd;\n      }\n      let groupOneDots = getSymbolColor(\n        d3.color(this.state.group1Color),\n        groupOneFP,\n        groupOneTP,\n        groupOneFN,\n        groupOneTN\n      );\n      let groupTwoDots = getSymbolColor(\n        d3.color(this.state.group2Color),\n        groupTwoFP,\n        groupTwoTP,\n        groupTwoFN,\n        groupTwoTN\n      );\n\n      svg\n        .append(\"g\")\n        .selectAll(\"path\")\n        .data(groupOneDots)\n        .join(\"path\")\n        .attr(\n          \"transform\",\n          (d) =>\n            `translate(${margin.left + width * 0.05 + d.x},${d.y}),rotate(45)`\n        )\n        .attr(\"fill\", (d) => d.color)\n        .attr(\n          \"d\",\n          d3\n            .symbol()\n            .type(function (d) {\n              if (d.category === 0) {\n                return customCross;\n              } else {\n                return d3.symbolCircle;\n              }\n            })\n            .size(dotRadius * dotRadius * 1.5)\n        );\n\n      svg\n        .append(\"g\")\n        .selectAll(\"path\")\n        .data(groupTwoDots)\n        .join(\"path\")\n        .attr(\n          \"transform\",\n          (d) =>\n            `translate(${margin.left + width * 0.55 + d.x},${d.y}),rotate(45)`\n        )\n        .attr(\"fill\", (d) => d.color)\n        .attr(\n          \"d\",\n          d3\n            .symbol()\n            .type(function (d) {\n              if (d.category === 0) {\n                return customCross;\n              } else {\n                return d3.symbolCircle;\n              }\n            })\n            .size(dotRadius * dotRadius * 1.5)\n        );\n    }\n  }\n\n  render() {\n    const message = this.state.damaging ? \"damaging\" : \"good faith\";\n    const opposite = this.state.damaging ? \"good\" : \"bad faith\";\n    return (\n      <React.Fragment>\n        <div\n          ref={this.visualizationRef}\n          style={{\n            width: \"55%\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n          }}\n        >\n          <div className=\"upperSettings\">\n            <Grid container spacing={0}>\n              <TypeToggle\n                damaging={this.state.damaging}\n                // onChange={this.onTypeChange}\n                gridSize={9}\n                key={this.state.damaging}\n              />\n              <Grid item xs={3} className=\"threshold\">\n                <div className=\"innerBox\">\n                  <Typography variant=\"subtitle2\">\n                    <Box>threshold</Box>\n                  </Typography>\n\n                  <Grid container spacing={2} className=\"options\">\n                    <Grid item xs={12}>\n                      <Typography component=\"div\" variant=\"h6\" className=\"text\">\n                        {this.state.threshold} %\n                      </Typography>\n                    </Grid>\n                  </Grid>\n                </div>\n              </Grid>\n            </Grid>\n          </div>\n\n          <div\n            style={{\n              marginLeft: `${this.state.sliderRange[0]}px`,\n              width: `${\n                this.state.sliderRange[1] - this.state.sliderRange[0]\n              }px`,\n            }}\n          >\n            <Typography variant=\"subtitle2\">Fairness in Groups</Typography>\n            <ThresholdSlider\n              defaultValue={60}\n              onChangeCommitted={this.onSliderChange}\n            />\n          </div>\n          <div className=\"compareChart\" ref={this.compareChartRef} />\n          <div\n            style={{\n              marginLeft: `${this.state.sliderRange[0]}px`,\n              width: `${\n                this.state.sliderRange[1] - this.state.sliderRange[0]\n              }px`,\n              transform: \"translate(0px,-20px)\",\n            }}\n          >\n            <div\n              style={{\n                width: \"50%\",\n                display: \"inline-block\",\n              }}\n            >\n              <Typography\n                variant=\"h6\"\n                component=\"div\"\n                style={{\n                  textAlign: \"center\",\n                  color: `${this.state.group1Color}`,\n                }}\n              >\n                Newcomer Edits\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                component=\"div\"\n                style={{ textAlign: \"center\" }}\n              >\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"center\",\n                  }}\n                >\n                  <Box width=\"80%\">\n                    Model performance on edits made by newcomer editors\n                  </Box>\n                </div>\n              </Typography>\n            </div>\n            <div\n              style={{\n                width: \"50%\",\n                display: \"inline-block\",\n                // transform: 'translate(0,-10px)',\n              }}\n            >\n              <Typography\n                variant=\"h6\"\n                component=\"div\"\n                style={{\n                  textAlign: \"center\",\n                  color: `${this.state.group2Color}`,\n                }}\n              >\n                Experienced Edits\n              </Typography>\n\n              <Typography\n                variant=\"body2\"\n                component=\"div\"\n                style={{ textAlign: \"center\" }}\n              >\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"center\",\n                  }}\n                >\n                  <Box width=\"80%\">\n                    Model performance on edits made by experienced editors\n                  </Box>\n                </div>\n              </Typography>\n            </div>\n            <div className=\"legendCard\">\n              <Typography component=\"div\" variant=\"subtitle2\">\n                legend\n              </Typography>\n              <Grid container spacing={0} style={{ marginTop: \"10px\" }}>\n                <Grid item xs={6}>\n                  <div className=\"legendMark\">\n                    <Circle size={12} color=\"#909090\" />{\" \"}\n                    <Typography component=\"span\" variant=\"body2\">\n                      Correctly classified {opposite} edits\n                    </Typography>\n                  </div>\n                </Grid>\n                <Grid item xs={6}>\n                  <div className=\"legendMark\">\n                    <Circle size={12} color={this.state.group1Color} />\n                    <span style={{ width: \"2px\" }} />\n                    <Circle size={12} color={this.state.group2Color} />{\" \"}\n                    <Typography component=\"span\" variant=\"body2\">\n                      Correctly classified {message} edits\n                    </Typography>\n                  </div>\n                </Grid>\n                <Grid item xs={6}>\n                  <div className=\"legendMark\">\n                    <Cross size={12} color=\"#909090\" />{\" \"}\n                    <Typography component=\"span\" variant=\"body2\">\n                      Uncaught {message} edits{\" \"}\n                    </Typography>\n                  </div>\n                </Grid>\n                <Grid item xs={6}>\n                  <div className=\"legendMark\">\n                    <Cross size={12} color={this.state.group1Color} />\n                    <span style={{ width: \"2px\" }} />\n                    <Cross size={12} color={this.state.group2Color} />{\" \"}\n                    <Typography component=\"span\" variant=\"body2\">\n                      Misclassified {opposite} edits{\" \"}\n                    </Typography>\n                  </div>\n                </Grid>\n              </Grid>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"sidePanel\" id=\"comparePerformanceSidePanel\">\n          <div\n            className=\"overallPerformance\"\n            ref={this.wholePerformanceRef}\n            style={{ borderBottom: \"1px solid lightgrey\" }}\n          >\n            <Typography component=\"div\" variant=\"subtitle2\">\n              PERFORMANCE\n            </Typography>\n            <Grid\n              container\n              className=\"performanceBlock\"\n              spacing={0}\n              style={{ marginTop: \"5px\", textAlign: \"left\", marginLeft: \"0px\" }}\n            >\n              <Grid item xs={4}>\n                <Typography component=\"div\" className=\"title\">\n                  ACC\n                </Typography>\n                <Typography component=\"div\">\n                  <Box className=\"data\">\n                    {(this.state.wholePerformance[0] * 100).toFixed(1)}%\n                  </Box>\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography component=\"div\" className=\"title\">\n                  FPR\n                </Typography>\n                <Typography component=\"div\">\n                  <Box className=\"data\">\n                    {(this.state.wholePerformance[1] * 100).toFixed(1)}%\n                  </Box>\n                </Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography component=\"div\" className=\"title\">\n                  FNR\n                </Typography>\n                <Typography component=\"div\">\n                  <Box className=\"data\">\n                    {(this.state.wholePerformance[2] * 100).toFixed(1)}%\n                  </Box>\n                </Typography>\n              </Grid>\n            </Grid>\n          </div>\n          <div style={{ display: \"flex\" }}>\n            <div\n              style={{\n                width: \"40%\",\n                display: \"inline-block\",\n              }}\n              className=\"groupPerformance\"\n            >\n              {[\"Accuracy\", \"FPR\", \"FNR\"].map((value, index) => {\n                return (\n                  <div\n                    style={{\n                      height: `${this.getMargin().blockHeight}px`,\n                      fontSize: \"12px\",\n                      transform: `translate(0px,7px)`,\n                    }}\n                  >\n                    <div\n                      style={{\n                        height: `${this.getMargin().chartHeight}px`,\n                      }}\n                    />\n                    <div\n                      style={{\n                        height: `${this.getMargin().chartHeight}px`,\n                        display: \"flex\",\n                        flexDirection: \"column-reverse\",\n                      }}\n                    >\n                      <Typography variant=\"body2\" className=\"classTitle\">\n                        {value}\n                      </Typography>\n                    </div>\n\n                    <div\n                      style={{\n                        height: `${this.getMargin().chartHeight}px`,\n                        display: \"flex\",\n                        flexDirection: \"column-reverse\",\n                      }}\n                    >\n                      <div>\n                        <div className=\"title\">newcomer edits</div>\n                        <div\n                          className=\"data\"\n                          style={{ color: this.state.group1Color }}\n                        >\n                          {this.state.groupOnePerformance === null\n                            ? \"...\"\n                            : (\n                                getPerformance(this.state.groupOnePerformance)[\n                                  index\n                                ] * 100\n                              ).toFixed(1) + \"%\"}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div\n                      style={{\n                        height: `${this.getMargin().chartHeight}px`,\n                        display: \"flex\",\n                        flexDirection: \"column-reverse\",\n                      }}\n                    >\n                      <div>\n                        <div className=\"title\">experienced edits</div>\n                        <div\n                          className=\"data\"\n                          style={{ color: this.state.group2Color }}\n                        >\n                          {this.state.groupTwoPerformance === null\n                            ? \"...\"\n                            : (\n                                getPerformance(this.state.groupTwoPerformance)[\n                                  index\n                                ] * 100\n                              ).toFixed(1) + \"%\"}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n            <div style={{ width: \"60%\", display: \"inline-block\" }}>\n              <div\n                className=\"comparePerformance\"\n                ref={this.comparePerformanceRef}\n              />\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default GroupCompareVisualizer;\n","import React, {Component} from 'react';\nimport * as d3 from 'd3';\nimport data_balanced from '../../data/data_balanced_1.csv';\nimport GroupCompareVisualizer from './compare_visualizer';\n\nconst groupSliceNumber = 100;\nclass GroupCompareChart extends Component {\n  constructor (props) {\n    super (props);\n    this.state = {\n      anonData: null,\n      loggedData: null,\n      newcomerData: null,\n      experiencedData: null,\n      change: 0,\n    };\n  }\n\n  componentDidMount () {\n    d3\n      .csv (data_balanced, d => {\n        return {\n          anonymous: d.anonymous == 'TRUE' ? true : false,\n          newcomer: d.edit_years <= 8 ? true : false,\n          confidence_faith: +d.confidence_faith,\n          faith_label: d.goodfaith == 'TRUE' ? true : false,\n          confidence_damage: +d.confidence_damage,\n          damaging_label: d.damaging == 'TRUE' ? true : false,\n        };\n      })\n      .then (data => {\n        const anonData = data\n          .filter (d => {\n            return d.anonymous;\n          })\n          .slice (0, groupSliceNumber);\n        const loggedData = data\n          .filter (d => {\n            return !d.anonymous;\n          })\n          .slice (0, groupSliceNumber);\n\n        const newcomerData = data\n          .filter (d => {\n            return d.newcomer;\n          })\n          .slice (0, groupSliceNumber);\n\n        const experiencedData = data\n          .filter (d => {\n            return !d.newcomer;\n          })\n          .slice (0, groupSliceNumber);\n        this.setState ({\n          anonData: anonData,\n          loggedData: loggedData,\n          newcomerData: newcomerData,\n          experiencedData: experiencedData,\n        });\n\n        console.log (newcomerData);\n        console.log (experiencedData);\n        this.setState ({change: 2});\n      });\n  }\n\n  //   shouldComponentUpdate (nextProps, nextState) {\n  //     return true;\n  //   }\n\n  render () {\n    console.log ('hi');\n    console.log (this.props);\n    return (\n      <div style={{display: 'flex'}}>\n        {/* <Test data={this.state.data} key={this.state.change} /> */}\n        <GroupCompareVisualizer\n          groupOneData={this.state.newcomerData}\n          groupTwoData={this.state.experiencedData}\n          key={this.state.change}\n          performanceData={this.props.performanceData}\n          sliceNumber={groupSliceNumber}\n        />\n      </div>\n    );\n  }\n}\n\nexport default GroupCompareChart;\n","import React, { Component } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { ToggleButtonGroup, ToggleButton } from \"@material-ui/lab\";\nimport {\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  ExpansionPanelDetails,\n} from \"@material-ui/core\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Input from \"@material-ui/core/Input\";\nimport TypeToggle from \"../../partials/typeToggle\";\nimport versions from \"../../data/versions.json\";\nimport axios from \"axios\";\n\nclass Recommender extends Component {\n  constructor(props) {\n    super(props);\n    this.chartRef = React.createRef();\n    this.state = {\n      damaging: true,\n      threshold: null,\n      damagingData: null,\n      goodfaithData: null,\n    };\n  }\n\n  onTypeChange = (event, type) => {\n    if (type != null) {\n      this.setState({ damaging: type });\n    }\n  };\n\n  onThresChange = (event, thres) => {\n    if (thres != null) {\n      this.setState({ threshold: thres });\n    }\n  };\n\n  onTextChange = (event) => {\n    this.onThresChange(\n      event,\n      event.target.value ? Number(event.target.value) : null\n    );\n  };\n\n  getData = () => {\n    function getObject(array) {\n      var newArray = {};\n      var arrayIdx = 0;\n      var i = 0.01;\n\n      while (i < 1 && arrayIdx < array.length) {\n        // console.log(i, arrayIdx, array[arrayIdx]);\n        if (array[arrayIdx] && i - array[arrayIdx][\"threshold\"] < 0.000001) {\n          //   console.log(\"found\", i);\n          var elem = array[arrayIdx];\n          newArray[i.toFixed(2)] = {\n            \"!f1\": elem[\"!f1\"],\n            \"!precision\": elem[\"!precision\"],\n            \"!recall\": elem[\"!recall\"],\n            accuracy: elem[\"accuracy\"],\n            f1: elem[\"f1\"],\n            filter_rate: elem[\"filter_rate\"],\n            fpr: elem[\"fpr\"],\n            match_rate: elem[\"match_rate\"],\n            precision: elem[\"precision\"],\n            recall: elem[\"recall\"],\n          };\n          i = Number.parseFloat(Number.parseFloat(i + 0.01).toPrecision(2));\n        }\n        arrayIdx = arrayIdx + 1;\n      }\n\n      //   console.log(array);\n      //   console.log(newArray);\n\n      return newArray;\n    }\n\n    axios\n      .get(\n        \"https://ores.wikimedia.org/v3/scores/enwiki/?models=damaging&model_info=statistics.thresholds.true\"\n      )\n      .then((res) => {\n        const array =\n          res.data.enwiki.models.damaging.statistics.thresholds.true;\n        console.log(\"got damaging data\");\n        this.setState({ damagingData: getObject(array) });\n      });\n\n    axios\n      .get(\n        \"https://ores.wikimedia.org/v3/scores/enwiki/?models=goodfaith&model_info=statistics.thresholds.true\"\n      )\n      .then((res) => {\n        const array =\n          res.data.enwiki.models.goodfaith.statistics.thresholds.true;\n        console.log(\"got goodfaith data\");\n        this.setState({ goodfaithData: getObject(array) });\n      });\n  };\n\n  getProp(prop, escape) {\n    if (\n      this.state.threshold != null &&\n      this.state.threshold > 0 &&\n      this.state.threshold <= 0.98\n    ) {\n      return this.state.damaging\n        ? this.state.damagingData[this.state.threshold.toFixed(2)][prop]\n        : this.state.goodfaithData[this.state.threshold.toFixed(2)][prop];\n    } else return escape;\n  }\n\n  componentDidMount() {\n    this.getData();\n    this.setState({\n      damaging: true,\n      threshold: null,\n    });\n  }\n\n  render() {\n    const borderColor = this.state.threshold ? \"#00f\" : \"#ddd\";\n    const message = this.state.damaging ? \"damaging\" : \"good faith\";\n    const opposite = this.state.damaging ? \"good\" : \"bad faith\";\n    return (\n      <React.Fragment>\n        <div\n          style={{\n            width: \"100%\",\n            display: \"inline-block\",\n            verticalAlign: \"top\",\n          }}\n        >\n          <div className=\"upperSettings\" style={{ height: \"8vh\" }}>\n            <Grid container spacing={0} style={{ height: \"100%\" }}>\n              <TypeToggle\n                damaging={this.state.damaging}\n                onChange={this.onTypeChange}\n                gridSize={4}\n                key={this.state.damaging}\n              />\n              <Grid\n                item\n                xs={8}\n                style={{\n                  height: \"auto\",\n                  paddingLeft: 10,\n                  paddingBottom: 10,\n                  borderLeft: \"1px solid #d3d3d3\",\n                }}\n              >\n                <Typography component=\"div\" variant=\"subtitle2\">\n                  <Box>INTERACTION FLOW</Box>\n                </Typography>\n                <Grid\n                  container\n                  style={{ justifyContent: \"space-evenly\", height: \"100%\" }}\n                >\n                  {[\n                    \"1. Choose a Goal\",\n                    \"2. Tune Recommendation\",\n                    \"3. Request Performance\",\n                  ].map((text, index) => (\n                    <Typography\n                      component=\"span\"\n                      variant=\"h6\"\n                      style={{\n                        fontWeight: 400,\n                        paddingTop: 5,\n                        paddingRight: 50,\n                      }}\n                    >\n                      {text}\n                    </Typography>\n                  ))}\n                </Grid>\n              </Grid>\n            </Grid>\n          </div>\n          <Grid container spacing={0} style={{ height: 800 }}>\n            <Grid item xs={5}>\n              <ToggleButtonGroup\n                orientation=\"vertical\"\n                exclusive\n                value={this.state.threshold}\n                onChange={this.onThresChange}\n                style={{\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  textAlign: \"center\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-evenly\",\n                  height: \"100%\",\n                  margin: \"0px 15%\",\n                }}\n              >\n                {[\n                  {\n                    type: \"Aggressive\",\n                    threshold: 0.12,\n                    subtitle: \"Tools for human reviewers\",\n                    description:\n                      \"Catch more \" +\n                      message +\n                      \" edits at the cost of some \" +\n                      opposite +\n                      \" edits being falsely predicted.\",\n                  },\n                  {\n                    type: \"Balanced\",\n                    threshold: 0.5,\n                    subtitle: \"Tools for human reviewers\",\n                    description:\n                      \"Similar number of uncaught \" +\n                      message +\n                      \" edits and falsely predicted \" +\n                      opposite +\n                      \" edits.\",\n                  },\n                  {\n                    type: \"Cautious\",\n                    threshold: 0.81,\n                    subtitle: \"Automated bots\",\n                    description:\n                      \"Less falsely predicted \" +\n                      opposite +\n                      \" edits at the cost of more uncaught \" +\n                      message +\n                      \" edits.\",\n                  },\n                ].map((obj, index) => (\n                  <ToggleButton\n                    value={obj.threshold}\n                    className=\"recommendOptions\"\n                  >\n                    <Grid container spacing={0}>\n                      <Grid item xs={6}>\n                        <h4>{obj.type} Model</h4>\n                        <h5>{obj.subtitle}</h5>\n                        <p>{obj.description}</p>\n                      </Grid>\n                      <Grid item xs={5}>\n                        <img\n                          src={obj.type + \".svg\"}\n                          height=\"100%\"\n                          width=\"100%\"\n                        />\n                      </Grid>\n                    </Grid>\n                  </ToggleButton>\n                ))}\n              </ToggleButtonGroup>\n            </Grid>\n            <Grid\n              item\n              xs={7}\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n              }}\n            >\n              <div className=\"card\" style={{ borderColor: borderColor }}>\n                <Typography\n                  component=\"div\"\n                  variant=\"subtitle2\"\n                  style={{ fontSize: 13, color: \"#000\" }}\n                >\n                  <Box>SUGGESTED THRESHOLD</Box>\n                </Typography>\n                <Input\n                  value={\n                    this.state.threshold\n                      ? this.state.threshold.toFixed(2)\n                      : \"N/A\"\n                  }\n                  onChange={this.onTextChange}\n                  helperText={\"N/A\"}\n                  inputProps={{\n                    step: 0.01,\n                    min: 0.01,\n                    max: 0.98,\n                    type: \"number\",\n                  }}\n                  style={{\n                    fontSize: 50,\n                    alignSelf: \"left\",\n                  }}\n                />\n                <Typography variant=\"body2\">\n                  This threshold will catch around\n                  <strong>\n                    {\" \"}\n                    {this.getProp(\"recall\", \"--\") == \"--\"\n                      ? \"--\"\n                      : (this.getProp(\"recall\", \"--\") * 100).toFixed(0)}\n                    %{\" \"}\n                  </strong>\n                  of the {\" \" + message} edits while having\n                  <strong>\n                    {\" \"}\n                    {this.getProp(\"fpr\", \"--\") == \"--\"\n                      ? \"--\"\n                      : (this.getProp(\"fpr\", \"--\") * 100).toFixed(0)}\n                    %{\" \"}\n                  </strong>\n                  of the {\" \" + opposite} edits misclassified.\n                </Typography>\n                <ExpansionPanel>\n                  <ExpansionPanelSummary>\n                    <Typography variant=\"h5\">\n                      See specific performance\n                    </Typography>\n                  </ExpansionPanelSummary>\n                  <ExpansionPanelDetails>\n                    <div>\n                      {[\n                        \"!f1\",\n                        \"!precision\",\n                        \"!recall\",\n                        \"accuracy\",\n                        \"f1\",\n                        \"filter_rate\",\n                        \"fpr\",\n                      ].map((prop) => (\n                        <Typography variant=\"body2\" style={{ margin: 5 }}>\n                          <strong>{prop}</strong>: {this.getProp(prop, \"N/A\")}\n                        </Typography>\n                      ))}\n                    </div>\n                  </ExpansionPanelDetails>\n                </ExpansionPanel>\n\n                <ExpansionPanel>\n                  <ExpansionPanelSummary>\n                    <Typography variant=\"h5\">\n                      Copy code for this threshold\n                    </Typography>\n                  </ExpansionPanelSummary>\n                  <ExpansionPanelDetails>\n                    <pre style={{ textAlign: \"left\" }}>\n                      <p style={{ margin: 5, fontWeight: \"bold\" }}>\n                        def compute_metrics(y_true, y_pred_scores,{\" \"}\n                        {this.state.threshold}, model=\"\n                        {this.state.damaging ? \"damaging\" : \"goodfaith\"}\"):\n                      </p>\n                      {[\n                        \"# model = damaging or goodfaith\",\n                        \"# return a dictionary with metrics\",\n                        \"# y_true: a np array of true labels 1/0\",\n                        \"# y_pred_scores: a np array of predictions\",\n                      ].map((text, index) => (\n                        <p style={{ margin: 5 }}>\n                          {\"  \"}\n                          {text}\n                        </p>\n                      ))}\n                    </pre>\n                  </ExpansionPanelDetails>\n                </ExpansionPanel>\n              </div>\n            </Grid>\n          </Grid>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Recommender;\n","import React, { Component } from \"react\";\nimport Chart from \"./threshold_explorer/threshold_explorer_section\";\nimport GroupCompareChart from \"./group_compare/section\";\nimport Recommender from \"./threshold_recommender/recommender\";\nimport Typography from \"@material-ui/core/Typography\";\nimport data_performance from \"../data/performance.csv\";\nimport * as d3 from \"d3\";\nimport styled from \"styled-components\";\nimport { curveNatural } from \"d3\";\nimport { Route, Switch } from \"react-router-dom\";\n\nconst SectionHeader = styled.div`\n  padding-left: 10px;\n  padding-top: 5px;\n  padding-bottom: 30px;\n  border-bottom: 1px solid lightgrey;\n`;\n\nconst Section = styled.div`\n  display: block;\n  margin-bottom: 0vh;\n`;\n\nclass MainContent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      performance_data: null,\n      change: 0,\n    };\n  }\n\n  componentDidMount() {\n    d3.csv(data_performance, (d) => {\n      return {\n        threshold: +d.threshold,\n        damaging_accuracy: +d.damaging_accuracy,\n        damaging_fpr: +d.damaging_fpr,\n        damaging_fnr: +d.damaging_fnr,\n        faith_accuracy: +d.faith_accuracy,\n        faith_fpr: +d.faith_fpr,\n        faith_fnr: +d.faith_fnr,\n      };\n    }).then((data) => {\n      this.setState({ performance_data: data });\n      this.setState({ change: 1 });\n    });\n  }\n\n  state = {};\n  render() {\n    return (\n      <React.Fragment>\n        {\" \"}\n        <Switch>\n          <Route path=\"/recommender\">\n            <Section style={{ height: \"97vh\", marginBottom: 0 }}>\n              <SectionHeader style={{ height: \"7vh\" }}>\n                <Typography variant=\"subtitle1\" style={{ textAlign: \"left\" }}>\n                  Threshold Recommender\n                </Typography>\n                <div\n                  style={{\n                    width: \"50%\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Typography variant=\"body2\" style={{ color: \"grey\" }}>\n                    The threshold recommender helps you decide a threshold that\n                    aligns with your model preferences.{\" \"}\n                  </Typography>\n                </div>\n              </SectionHeader>\n              <Recommender\n                style={{ height: \"77vh\" }}\n                performanceData={this.state.performance_data}\n                key={this.state.change}\n              />\n            </Section>\n          </Route>\n          <Route path=\"/disparity\">\n            <Section>\n              <SectionHeader>\n                <Typography variant=\"subtitle1\" style={{ textAlign: \"left\" }}>\n                  Disparity Visualizer\n                </Typography>\n                <div\n                  style={{\n                    width: \"50%\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Typography variant=\"body2\" style={{ color: \"grey\" }}>\n                    This visualization provides insights on how the model\n                    performs for wiki’s edited by different user groups; this\n                    may help you weigh the pros and cons of picking the\n                    threshold. <strong>NOTE:</strong> GoodFaith Model has some\n                    bugs and is therefore disabled.{\" \"}\n                  </Typography>\n                </div>\n              </SectionHeader>\n              <GroupCompareChart\n                performanceData={this.state.performance_data}\n                key={this.state.change}\n              />\n            </Section>\n          </Route>\n          <Route path=\"/\">\n            <Section>\n              <SectionHeader>\n                <Typography variant=\"subtitle1\" style={{ textAlign: \"left\" }}>\n                  Threshold Explorer\n                </Typography>\n                <div\n                  style={{\n                    width: \"50%\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Typography variant=\"body2\" style={{ color: \"grey\" }}>\n                    Threshold Explorer helps you visualize model performance\n                    under specific thresholds with an example dataset. To start,\n                    select a model below, then pick a threshold.{\" \"}\n                  </Typography>\n                </div>\n              </SectionHeader>\n\n              <Chart\n                performanceData={this.state.performance_data}\n                key={this.state.change}\n              />\n            </Section>\n          </Route>\n        </Switch>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MainContent;\n","import React, { Component } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Box from \"@material-ui/core/Box\";\nimport { Link } from \"react-router-dom\";\nimport \"../App.scss\";\n\nclass DrawerList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { selected: -1 };\n    this.clickSection = this.clickSection.bind(this);\n  }\n\n  clickSection(index) {\n    this.setState({ selected: index });\n    console.log(\"ha\");\n    console.log(index);\n  }\n\n  render() {\n    return (\n      <List style={{ marginTop: \"10vh\" }}>\n        {[\n          { text: \"About ORES\", path: \"/about-ores\" },\n          { text: \"Threshold Explorer\", path: \"/explorer\" },\n          { text: \"Threshold Recommender\", path: \"/recommender\" },\n          { text: \"Disparity Visualizer\", path: \"/disparity\" },\n          { text: \"Feature Injection\", path: \"/injection\" },\n        ].map((obj, index) => (\n          <Link to={obj.path}>\n            <ListItem\n              className={this.props.klass}\n              button\n              key={obj.text}\n              onClick={() => this.clickSection(index)}\n            >\n              <div style={{ width: \"12.5%\" }} />\n              <div style={{ width: \"87.5%\" }}>\n                <Typography component=\"div\">\n                  <Box\n                    className={\n                      this.state.selected === index\n                        ? \"active-section\"\n                        : \"inactive-section\"\n                    }\n                  >\n                    {obj.text}\n                  </Box>\n                </Typography>\n              </div>\n            </ListItem>\n          </Link>\n        ))}\n      </List>\n    );\n  }\n}\n\nexport default DrawerList;\n","import React from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.scss\";\nimport * as d3 from \"d3\";\nimport Box from \"@material-ui/core/Box\";\nimport Chart from \"./components/threshold_explorer/threshold_explorer_section\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ListItem from \"@material-ui/core/ListItem\";\n\nimport { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport styled from \"styled-components\";\nimport MainContent from \"./components/content\";\nimport DrawerList from \"./partials/drawerList\";\n\nimport { BrowserRouter, Link } from \"react-router-dom\";\n\nconst SectionHeader = styled.div`\n  padding-left: 10px;\n  padding-top: 5px;\n  padding-bottom: 30px;\n  border-bottom: 1px solid lightgrey;\n`;\n\n// const PerformanceTitle = styled.h1`\n//   font-size: 1.1em;\n//   text-align: left;\n//   margin-bottom: 0px;\n//   font-weight: 800;\n// `;\n\nconst Section = styled.div`\n  display: block;\n  margin-bottom: 15vh;\n`;\n\nconst drawerWidth = 270;\n\nlet theme = createMuiTheme({\n  typography: {\n    root: {\n      component: \"div\",\n    },\n    fontFamily: \"Noto Sans KR\",\n    subtitle1: {\n      fontFamily: \"Noto Serif\",\n      fontSize: \"24px\",\n    },\n    subtitle2: {\n      fontSize: \"12px\",\n      marginTop: \"10px\",\n      color: \"#B0B0B0\",\n      fontWeight: \"bold\",\n      textTransform: \"uppercase\",\n      textAlign: \"left\",\n    },\n    h6: {\n      fontWeight: \"bold\",\n      fontSize: \"16px\",\n      textAlign: \"left\",\n    },\n    body1: {\n      // textAlign: 'left',\n      fontSize: \"14px\",\n    },\n    body2: {\n      textAlign: \"left\",\n      fontSize: \"14px\",\n    },\n    button: {\n      fontStyle: \"italic\",\n    },\n    h5: {\n      fontSize: \"15px\",\n      color: \"blue\",\n      fontWeight: \"bold\",\n      textTransform: \"none\",\n      textAlign: \"left\",\n    },\n  },\n});\n\ntheme = responsiveFontSizes(theme);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    // fontFamily: 'Noto Sans, sans-serif',\n  },\n  appBar: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    textAlign: \"center\",\n    position: \"relative\",\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    paddingTop: \"35px\",\n    paddingBottom: \"35px\",\n  },\n  paper: {\n    textAlign: \"left\",\n    padding: \"20px 20px\",\n  },\n  list: {\n    fontSize: \"16px\",\n    textDecoration: \"none\",\n  },\n  // necessary for content to be below app bar\n  toolbar: {\n    padding: theme.spacing(2),\n  },\n  content: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: \"1.5vh\",\n    height: \"100vh\",\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <ThemeProvider theme={theme}>\n        <div className=\"App\">\n          <body>\n            <div className={classes.root}>\n              <Drawer\n                className={classes.drawer}\n                variant=\"permanent\"\n                classes={{ paper: classes.drawerPaper }}\n                anchor=\"left\"\n              >\n                <Link to=\"/\">\n                  <Paper className={classes.paper} elevation=\"0\">\n                    <div style={{ textAlign: \"center\" }}>\n                      <Typography variant=\"subtitle1\">WIKIPEDIA</Typography>\n                      <Typography style={{ textAlign: \"center\" }}>\n                        ORES Explorer\n                      </Typography>\n                    </div>\n                  </Paper>\n                </Link>\n                <DrawerList klass={classes.list} />\n                <List\n                  style={{\n                    position: \"absolute\",\n                    bottom: \"120px\",\n                    width: \"100%\",\n                  }}\n                >\n                  {[\n                    { text: \"About ORES Explorer\", path: \"/about-us\" },\n                    { text: \"External Resources\", path: \"/external\" },\n                  ].map((obj, index) => (\n                    <Link to={obj.path}>\n                      <ListItem className={classes.list} button key={obj.text}>\n                        <div style={{ width: \"12.5%\" }} />\n                        <div style={{ width: \"87.5%\" }}>\n                          <Typography component=\"div\">\n                            <Box color=\"#989898\">{obj.text}</Box>\n                          </Typography>\n                        </div>\n                      </ListItem>\n                    </Link>\n                  ))}\n                </List>\n              </Drawer>\n              <main className={classes.content}>\n                <MainContent />\n              </main>\n            </div>\n          </body>\n        </div>\n      </ThemeProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render (\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById ('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister ();\n","module.exports = __webpack_public_path__ + \"static/media/performance.760a321c.csv\";"],"sourceRoot":""}